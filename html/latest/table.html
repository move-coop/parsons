

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L2YB7WHTRG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-L2YB7WHTRG');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parsons Table &mdash; Parsons  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notifications" href="notifications.html" />
    <link rel="prev" title="Database Sync" href="dbsync.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Parsons
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="actblue.html">ActBlue</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_kit.html">ActionKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_builder.html">Action Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_network.html">Action Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="airmeet.html">Airmeet</a></li>
<li class="toctree-l1"><a class="reference internal" href="airtable.html">Airtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="alchemer.html">Alchemer</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth0.html">Auth0</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.html">Azure: Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="bill_com.html">Bill.com</a></li>
<li class="toctree-l1"><a class="reference internal" href="bloomerang.html">Bloomerang</a></li>
<li class="toctree-l1"><a class="reference internal" href="box.html">Box</a></li>
<li class="toctree-l1"><a class="reference internal" href="braintree.html">Braintree</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitolcanary.html">CapitolCanary</a></li>
<li class="toctree-l1"><a class="reference internal" href="census.html">Census</a></li>
<li class="toctree-l1"><a class="reference internal" href="civis.html">Civis</a></li>
<li class="toctree-l1"><a class="reference internal" href="controlshift.html">Controlshift</a></li>
<li class="toctree-l1"><a class="reference internal" href="copper.html">Copper</a></li>
<li class="toctree-l1"><a class="reference internal" href="crowdtangle.html">CrowdTangle</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="donorbox.html">Donorbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="empower.html">Empower</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_ads.html">FacebookAds</a></li>
<li class="toctree-l1"><a class="reference internal" href="formstack.html">Formstack</a></li>
<li class="toctree-l1"><a class="reference internal" href="freshdesk.html">Freshdesk</a></li>
<li class="toctree-l1"><a class="reference internal" href="github.html">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="google.html">Google</a></li>
<li class="toctree-l1"><a class="reference internal" href="hustle.html">Hustle</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailchimp.html">Mailchimp</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilecommons.html">MobileCommons</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilize_america.html">Mobilize America</a></li>
<li class="toctree-l1"><a class="reference internal" href="nation_builder.html">NationBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="newmode.html">New/Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="ngpvan.html">NGPVAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2a.html">Phone2Action</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdi.html">PDI</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickbase.html">Quickbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickbooks.html">Quickbooks Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="redash.html">Redash</a></li>
<li class="toctree-l1"><a class="reference internal" href="rockthevote.html">Rock the Vote</a></li>
<li class="toctree-l1"><a class="reference internal" href="salesforce.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="scytl.html">Scytl</a></li>
<li class="toctree-l1"><a class="reference internal" href="sftp.html">SFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="shopify.html">Shopify</a></li>
<li class="toctree-l1"><a class="reference internal" href="sisense.html">Sisense</a></li>
<li class="toctree-l1"><a class="reference internal" href="targetsmart.html">TargetSmart</a></li>
<li class="toctree-l1"><a class="reference internal" href="turbovote.html">TurboVote</a></li>
<li class="toctree-l1"><a class="reference internal" href="twilio.html">Twilio</a></li>
<li class="toctree-l1"><a class="reference internal" href="zoom.html">Zoom</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Enhancements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="census_geocoder.html">US Census Geocoder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dbsync.html">Database Sync</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parsons Table</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#from-parsons-table">From Parsons Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#to-parsons-table">To Parsons Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsons-table-attributes">Parsons Table Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsons-table-transformations">Parsons Table Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsons-table-indexing">Parsons Table Indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#petl">PETL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lazy-loading">Lazy Loading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-pipelines">Basic Pipelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#to-from-api">To &amp; From API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom"><code class="docutils literal notranslate"><span class="pre">ToFrom</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_dataframe"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_dataframe()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_html"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_html()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.append_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.append_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_zip_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_zip_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_json"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_dicts"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_dicts()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_sftp_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_sftp_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_s3_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_s3_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_gcs_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_gcs_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_redshift"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_redshift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_postgres"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_postgres()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_bigquery"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_bigquery()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_civis"><code class="docutils literal notranslate"><span class="pre">ToFrom.to_civis()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_csv_string"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_csv_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_columns"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_json"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_redshift"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_redshift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_postgres"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_postgres()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_s3_csv"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_s3_csv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_bigquery"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_bigquery()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_dataframe"><code class="docutils literal notranslate"><span class="pre">ToFrom.from_dataframe()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transformation-api">Transformation API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parsons.etl.etl.ETL"><code class="docutils literal notranslate"><span class="pre">ETL</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.head"><code class="docutils literal notranslate"><span class="pre">ETL.head()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.tail"><code class="docutils literal notranslate"><span class="pre">ETL.tail()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.add_column"><code class="docutils literal notranslate"><span class="pre">ETL.add_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.remove_column"><code class="docutils literal notranslate"><span class="pre">ETL.remove_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.rename_column"><code class="docutils literal notranslate"><span class="pre">ETL.rename_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.rename_columns"><code class="docutils literal notranslate"><span class="pre">ETL.rename_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.fill_column"><code class="docutils literal notranslate"><span class="pre">ETL.fill_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.fillna_column"><code class="docutils literal notranslate"><span class="pre">ETL.fillna_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.move_column"><code class="docutils literal notranslate"><span class="pre">ETL.move_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.convert_column"><code class="docutils literal notranslate"><span class="pre">ETL.convert_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.get_column_max_width"><code class="docutils literal notranslate"><span class="pre">ETL.get_column_max_width()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.convert_columns_to_str"><code class="docutils literal notranslate"><span class="pre">ETL.convert_columns_to_str()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.coalesce_columns"><code class="docutils literal notranslate"><span class="pre">ETL.coalesce_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.map_columns"><code class="docutils literal notranslate"><span class="pre">ETL.map_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.map_and_coalesce_columns"><code class="docutils literal notranslate"><span class="pre">ETL.map_and_coalesce_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.get_column_types"><code class="docutils literal notranslate"><span class="pre">ETL.get_column_types()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.get_columns_type_stats"><code class="docutils literal notranslate"><span class="pre">ETL.get_columns_type_stats()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.convert_table"><code class="docutils literal notranslate"><span class="pre">ETL.convert_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.unpack_dict"><code class="docutils literal notranslate"><span class="pre">ETL.unpack_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.unpack_list"><code class="docutils literal notranslate"><span class="pre">ETL.unpack_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.unpack_nested_columns_as_rows"><code class="docutils literal notranslate"><span class="pre">ETL.unpack_nested_columns_as_rows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.long_table"><code class="docutils literal notranslate"><span class="pre">ETL.long_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.cut"><code class="docutils literal notranslate"><span class="pre">ETL.cut()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.select_rows"><code class="docutils literal notranslate"><span class="pre">ETL.select_rows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.remove_null_rows"><code class="docutils literal notranslate"><span class="pre">ETL.remove_null_rows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.stack"><code class="docutils literal notranslate"><span class="pre">ETL.stack()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.concat"><code class="docutils literal notranslate"><span class="pre">ETL.concat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.chunk"><code class="docutils literal notranslate"><span class="pre">ETL.chunk()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.get_normalized_column_name"><code class="docutils literal notranslate"><span class="pre">ETL.get_normalized_column_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.match_columns"><code class="docutils literal notranslate"><span class="pre">ETL.match_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.reduce_rows"><code class="docutils literal notranslate"><span class="pre">ETL.reduce_rows()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.sort"><code class="docutils literal notranslate"><span class="pre">ETL.sort()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.set_header"><code class="docutils literal notranslate"><span class="pre">ETL.set_header()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.use_petl"><code class="docutils literal notranslate"><span class="pre">ETL.use_petl()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.etl.ETL.deduplicate"><code class="docutils literal notranslate"><span class="pre">ETL.deduplicate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#materialize-api">Materialize API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parsons.etl.table.Table"><code class="docutils literal notranslate"><span class="pre">Table</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.table.Table.materialize"><code class="docutils literal notranslate"><span class="pre">Table.materialize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsons.etl.table.Table.materialize_to_file"><code class="docutils literal notranslate"><span class="pre">Table.materialize_to_file()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributor Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_a_connector.html">How to Build a Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="write_tests.html">How to Write Tests for Parsons Connectors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases and Sample Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use_cases/contribute_use_cases.html">How to Contribute a Use Case &amp; Sample Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases/civis_job_status_slack_alert.html">Civis Job Status Slack Alert</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases/mysql_to_googlesheets.html">MySQL to Google Sheets Export</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="training_guides/getting_set_up.html">Getting Set Up With Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_guides/etl_best_practices.html">Introduction to ETL Best Practices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Parsons</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Parsons Table</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/table.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parsons-table">
<span id="id1"></span><h1>Parsons Table<a class="headerlink" href="#parsons-table" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>Most methods and functions in Parsons return a <code class="docutils literal notranslate"><span class="pre">Table</span></code>, which is a 2D list-like object similar to a Pandas Dataframe. You can call the following methods on the Table object to output it into a variety of formats or storage types. A full list of <code class="docutils literal notranslate"><span class="pre">Table</span></code> methods can be found in the API section.</p>
<section id="from-parsons-table">
<h3>From Parsons Table<a class="headerlink" href="#from-parsons-table" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Destination Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_csv" title="parsons.etl.tofrom.ToFrom.to_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_csv()</span></code></a></p></td>
<td><p>CSV File</p></td>
<td><p>Write a table to a local csv file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_s3_csv" title="parsons.etl.tofrom.ToFrom.to_s3_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_s3_csv()</span></code></a></p></td>
<td><p>AWS s3 Bucket</p></td>
<td><p>Write a table to a csv stored in S3</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_gcs_csv" title="parsons.etl.tofrom.ToFrom.to_gcs_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_gcs_csv()</span></code></a></p></td>
<td><p>Google Cloud Storage Bucket</p></td>
<td><p>Write a table to a csv stored in Google Cloud Storage</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_sftp_csv" title="parsons.etl.tofrom.ToFrom.to_sftp_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_sftp_csv()</span></code></a></p></td>
<td><p>SFTP Server</p></td>
<td><p>Write a table to a csv stored on an SFTP server</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_redshift" title="parsons.etl.tofrom.ToFrom.to_redshift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_redshift()</span></code></a></p></td>
<td><p>A Redshift Database</p></td>
<td><p>Write a table to a Redshift database</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_postgres" title="parsons.etl.tofrom.ToFrom.to_postgres"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_postgres()</span></code></a></p></td>
<td><p>A Postgres Database</p></td>
<td><p>Write a table to a Postgres database</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_civis" title="parsons.etl.tofrom.ToFrom.to_civis"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_civis()</span></code></a></p></td>
<td><p>Civis Redshift Database</p></td>
<td><p>Write a table to Civis platform database</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_petl()</span></code></p></td>
<td><p>Petl table object</p></td>
<td><p>Convert a table a Petl table object</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_json" title="parsons.etl.tofrom.ToFrom.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_json()</span></code></a></p></td>
<td><p>JSON file</p></td>
<td><p>Write a table to a local JSON file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_html" title="parsons.etl.tofrom.ToFrom.to_html"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_html()</span></code></a></p></td>
<td><p>HTML formatted table</p></td>
<td><p>Write a table to a local html file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_dataframe" title="parsons.etl.tofrom.ToFrom.to_dataframe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dataframe()</span></code></a></p></td>
<td><p>Pandas Dataframe <a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></td>
<td><p>Return a Pandas dataframe</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.append_csv" title="parsons.etl.tofrom.ToFrom.append_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">append_csv()</span></code></a></p></td>
<td><p>CSV file</p></td>
<td><p>Appends table to an existing CSV</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_zip_csv" title="parsons.etl.tofrom.ToFrom.to_zip_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_zip_csv()</span></code></a></p></td>
<td><p>ZIP file</p></td>
<td><p>Writes a table to a CSV in a zip archive</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.to_dicts" title="parsons.etl.tofrom.ToFrom.to_dicts"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dicts()</span></code></a></p></td>
<td><p>Dicts</p></td>
<td><p>Write a table as a list of dicts</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Requires optional installation of Pandas package by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span></code>.</p>
</aside>
</aside>
</section>
<section id="to-parsons-table">
<h3>To Parsons Table<a class="headerlink" href="#to-parsons-table" title="Link to this heading"></a></h3>
<p>Create Parsons Table object using the following methods.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Source Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_csv" title="parsons.etl.tofrom.ToFrom.from_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_csv()</span></code></a></p></td>
<td><p>File like object, local path, url, ftp.</p></td>
<td><p>Loads a csv object into a Table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_json" title="parsons.etl.tofrom.ToFrom.from_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_json()</span></code></a></p></td>
<td><p>File like object, local path, url, ftp.</p></td>
<td><p>Loads a json object into a Table</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_columns" title="parsons.etl.tofrom.ToFrom.from_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_columns()</span></code></a></p></td>
<td><p>List object</p></td>
<td><p>Loads lists organized as columns in Table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_redshift" title="parsons.etl.tofrom.ToFrom.from_redshift"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_redshift()</span></code></a></p></td>
<td><p>Redshift table</p></td>
<td><p>Loads a Redshift query into a Table</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_postgres" title="parsons.etl.tofrom.ToFrom.from_postgres"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_postgres()</span></code></a></p></td>
<td><p>Postgres table</p></td>
<td><p>Loads a Postgres query into a Table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_dataframe" title="parsons.etl.tofrom.ToFrom.from_dataframe"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_dataframe()</span></code></a></p></td>
<td><p>Pandas Dataframe <a class="footnote-reference brackets" href="#id5" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></td>
<td><p>Load a Parsons table from a Pandas Dataframe</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_s3_csv" title="parsons.etl.tofrom.ToFrom.from_s3_csv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_s3_csv()</span></code></a></p></td>
<td><p>S3 CSV</p></td>
<td><p>Load a Parsons table from a csv file on S3</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.tofrom.ToFrom.from_csv_string" title="parsons.etl.tofrom.ToFrom.from_csv_string"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_csv_string()</span></code></a></p></td>
<td><p>File like object, local path, url, ftp.</p></td>
<td><p>Load a CSV string into a Table</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">2</a><span class="fn-bracket">]</span></span>
<p>Requires optional installation of Pandas package by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span></code>.</p>
</aside>
</aside>
<p>You can also use the Table constructor to create a Table from a python list or petl table:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From a list of dicts</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}])</span>

<span class="c1"># From a list of lists, the first list holding the field names</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>

<span class="c1"># From a petl table</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">petl_tbl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parsons-table-attributes">
<h3>Parsons Table Attributes<a class="headerlink" href="#parsons-table-attributes" title="Link to this heading"></a></h3>
<p>Tables have a number of convenience attributes.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.num_rows</span></code></p></td>
<td><p>The number of rows in the table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.columns</span></code></p></td>
<td><p>A list of column names in the table</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.data</span></code></p></td>
<td><p>The actual data (rows) of the table, as a list of tuples (without field names)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.first</span></code></p></td>
<td><p>The first value in the table. Use for database queries where a single value is returned.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="parsons-table-transformations">
<h3>Parsons Table Transformations<a class="headerlink" href="#parsons-table-transformations" title="Link to this heading"></a></h3>
<p>Parsons tables have many methods that allow you to easily transform tables. Below is a selection
of commonly used methods. The full list can be found in the API section.</p>
<p><strong>Column Transformations</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 83.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.head" title="parsons.etl.etl.ETL.head"><code class="xref py py-meth docutils literal notranslate"><span class="pre">head()</span></code></a></p></td>
<td><p>Get the first n rows of a table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.tail" title="parsons.etl.etl.ETL.tail"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tail()</span></code></a></p></td>
<td><p>Get the last n rows of a table</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.add_column" title="parsons.etl.etl.ETL.add_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_column()</span></code></a></p></td>
<td><p>Add a column</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.remove_column" title="parsons.etl.etl.ETL.remove_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_column()</span></code></a></p></td>
<td><p>Remove a column</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.rename_column" title="parsons.etl.etl.ETL.rename_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_column()</span></code></a></p></td>
<td><p>Rename a column</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.rename_columns" title="parsons.etl.etl.ETL.rename_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_columns()</span></code></a></p></td>
<td><p>Rename multiple columns</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.move_column" title="parsons.etl.etl.ETL.move_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_column()</span></code></a></p></td>
<td><p>Move a column within a table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.cut" title="parsons.etl.etl.ETL.cut"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cut()</span></code></a></p></td>
<td><p>Return a table with a subset of columns</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.fill_column" title="parsons.etl.etl.ETL.fill_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_column()</span></code></a></p></td>
<td><p>Provide a fixed value to fill a column</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.fillna_column" title="parsons.etl.etl.ETL.fillna_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fillna_column()</span></code></a></p></td>
<td><p>Provide a fixed value to fill all null values in a column</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.get_column_types" title="parsons.etl.etl.ETL.get_column_types"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_column_types()</span></code></a></p></td>
<td><p>Get the python type of values for a given column</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.convert_column" title="parsons.etl.etl.ETL.convert_column"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_column()</span></code></a></p></td>
<td><p>Transform the values of a column via arbitrary functions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.coalesce_columns" title="parsons.etl.etl.ETL.coalesce_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">coalesce_columns()</span></code></a></p></td>
<td><p>Coalesce values from one or more source columns</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.map_columns" title="parsons.etl.etl.ETL.map_columns"><code class="xref py py-meth docutils literal notranslate"><span class="pre">map_columns()</span></code></a></p></td>
<td><p>Standardizes column names based on multiple possible values</p></td>
</tr>
</tbody>
</table>
<p><strong>Row Transformations</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.select_rows" title="parsons.etl.etl.ETL.select_rows"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_rows()</span></code></a></p></td>
<td><p>Return a table of a subset of rows based on filters</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.stack" title="parsons.etl.etl.ETL.stack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stack()</span></code></a></p></td>
<td><p>Stack a number of tables on top of one another</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.chunk" title="parsons.etl.etl.ETL.chunk"><code class="xref py py-meth docutils literal notranslate"><span class="pre">chunk()</span></code></a></p></td>
<td><p>Divide tables into smaller tables based on row count</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.remove_null_rows" title="parsons.etl.etl.ETL.remove_null_rows"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_null_rows()</span></code></a></p></td>
<td><p>Removes rows with null values in specified columns</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.deduplicate" title="parsons.etl.etl.ETL.deduplicate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">deduplicate()</span></code></a></p></td>
<td><p>Removes duplicate rows based on optional key(s), and optionally sorts</p></td>
</tr>
</tbody>
</table>
<p><strong>Extraction and Reshaping</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.unpack_dict" title="parsons.etl.etl.ETL.unpack_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unpack_dict()</span></code></a></p></td>
<td><p>Unpack dictionary values from one column to top level columns</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.unpack_list" title="parsons.etl.etl.ETL.unpack_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unpack_list()</span></code></a></p></td>
<td><p>Unpack list values from one column and add to top level columns</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.long_table" title="parsons.etl.etl.ETL.long_table"><code class="xref py py-meth docutils literal notranslate"><span class="pre">long_table()</span></code></a></p></td>
<td><p>Take a column with nested data and create a new long table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.etl.ETL.unpack_nested_columns_as_rows" title="parsons.etl.etl.ETL.unpack_nested_columns_as_rows"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unpack_nested_columns_as_rows()</span></code></a></p></td>
<td><p>Unpack list or dict values from one column into separate rows</p></td>
</tr>
</tbody>
</table>
</section>
<section id="parsons-table-indexing">
<h3>Parsons Table Indexing<a class="headerlink" href="#parsons-table-indexing" title="Link to this heading"></a></h3>
<p>To access rows and columns of data within a Parsons table, you can index on them. To access a column
pass in the column name as a string (e.g. <code class="docutils literal notranslate"><span class="pre">tbl['a']</span></code>) and to access a row, pass in the row index as
an integer (e.g. <code class="docutils literal notranslate"><span class="pre">tbl[1]</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}])</span>

<span class="c1"># Return a column as a list</span>
<span class="n">tbl</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="c1"># Return a row as a dict</span>
<span class="n">tbl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>
</div>
<p>A note on indexing and iterating over a table’s data:
If you need to iterate over the data, make sure to use the python iterator syntax, so any data transformations can be applied efficiently. An example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Some data transformations</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;newcol&#39;</span><span class="p">,</span> <span class="s1">&#39;some value&#39;</span><span class="p">)</span>

<span class="c1"># Efficient way to grab all the data (applying the data transformations only once)</span>
<span class="n">rows_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you must index directly into a table’s data, you can do so, but note that data transformations will be applied <strong>each time</strong> you do so. So this code will be very inefficient on a large table…</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inefficient way to grab all the data</span>
<span class="n">rows_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">num_rows</span><span class="p">):</span>
  <span class="c1"># Data transformations will be applied each time through this loop!</span>
  <span class="n">rows_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="petl">
<h3>PETL<a class="headerlink" href="#petl" title="Link to this heading"></a></h3>
<p>The Parsons <code class="docutils literal notranslate"><span class="pre">Table</span></code> relies heavily on the <a class="reference external" href="https://petl.readthedocs.io/en/stable/index.html">petl</a>
Python package. You can always access the underlying petl table, <code class="docutils literal notranslate"><span class="pre">parsons.Table.table</span></code>, which will
allow you to perform any petl-supported ETL operations. Additionally, you can use the helper method,
<a class="reference internal" href="#parsons.etl.etl.ETL.use_petl" title="parsons.etl.etl.ETL.use_petl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">use_petl()</span></code></a>, to conveniently perform the same operations on a parsons
<code class="docutils literal notranslate"><span class="pre">Table</span></code>. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">petl</span>
<span class="o">...</span>

<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">petl</span><span class="o">.</span><span class="n">skipcomments</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="s1">&#39;#&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">use_petl</span><span class="p">(</span><span class="s1">&#39;skipcomments&#39;</span><span class="p">,</span> <span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="n">update_table</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="lazy-loading">
<h3>Lazy Loading<a class="headerlink" href="#lazy-loading" title="Link to this heading"></a></h3>
<p>The Parsons <code class="docutils literal notranslate"><span class="pre">Table</span></code> makes use of “lazy” loading and “lazy” transformations. What this means is that it tries not to load and process your data until absolutely necessary.</p>
<p>An example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify where to load the data</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="s1">&#39;name_data.csv&#39;</span><span class="p">)</span>

<span class="c1"># Specify data transformations</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;full_name&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;last_name&#39;</span><span class="p">])</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">remove_column</span><span class="p">([</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">])</span>

<span class="c1"># Save the table elsewhere</span>
<span class="c1"># IMPORTANT - The CSV won&#39;t actually be loaded and transformed until this step,</span>
<span class="c1"># since this is the first time it&#39;s actually needed.</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">to_redshift</span><span class="p">(</span><span class="s1">&#39;main.name_table&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This “lazy” loading can be very convenient and performant. However, it can make issues hard to debug. Eg. if your data transformations are time-consuming, you won’t actually notice that performance hit until you try to use the data, potentially much later in your code.
There may also be cases where it’s possible to get faster execution by caching a table,
especially in situations where a single table will be used as the base for several subsequent calculations.</p>
<p>For these cases Parsons provides two utility functions to materialize a Table and all of its transformations.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#parsons.etl.table.Table.materialize" title="parsons.etl.table.Table.materialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">materialize()</span></code></a></p></td>
<td><p>Load all data from the Table into memory and apply any transformations</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#parsons.etl.table.Table.materialize_to_file" title="parsons.etl.table.Table.materialize_to_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">materialize_to_file()</span></code></a></p></td>
<td><p>Load all data from the Table and apply any transformations, then save to a local temp file.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<section id="basic-pipelines">
<h3>Basic Pipelines<a class="headerlink" href="#basic-pipelines" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># S3 to Civis</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">S3</span><span class="p">()</span>
<span class="n">csv</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">get_file</span><span class="p">(</span><span class="s1">&#39;tmc-bucket&#39;</span><span class="p">,</span> <span class="s1">&#39;my_ids.csv&#39;</span><span class="p">)</span>
<span class="n">Table</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="n">csv</span><span class="p">)</span><span class="o">.</span><span class="n">to_civis</span><span class="p">(</span><span class="s1">&#39;TMC&#39;</span><span class="p">,</span><span class="s1">&#39;ids.my_ids&#39;</span><span class="p">)</span>

<span class="c1">#VAN Activist Codes to a Dataframe</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span>
<span class="n">van</span><span class="o">.</span><span class="n">activist_codes</span><span class="p">()</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>

<span class="c1">#VAN Events to an s3 bucket</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span>
<span class="n">van</span><span class="o">.</span><span class="n">events</span><span class="p">()</span><span class="o">.</span><span class="n">to_s3_csv</span><span class="p">(</span><span class="s1">&#39;my-van-bucket&#39;</span><span class="p">,</span><span class="s1">&#39;myevents.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="to-from-api">
<h2>To &amp; From API<a class="headerlink" href="#to-from-api" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.etl.tofrom.</span></span><span class="sig-name descname"><span class="pre">ToFrom</span></span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_dataframe">
<span class="sig-name descname"><span class="pre">to_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coerce_float</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_dataframe" title="Link to this definition"></a></dt>
<dd><p>Outputs table as a Pandas Dataframe</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>index: str, list</dt><dd><p>Field of array to use as the index, alternately a specific set
of input labels to use</p>
</dd>
<dt>exclude: list</dt><dd><p>Columns or fields to exclude</p>
</dd>
<dt>columns: list</dt><dd><p>Column names to use. If the passed data do not have names
associated with them, this argument provides names for the
columns. Otherwise this argument indicates the order of the
columns in the result (any names not found in the data will
become all-NA columns)</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>dataframe</dt><dd><p>Pandas DataFrame object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_html">
<span class="sig-name descname"><span class="pre">to_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tr_style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">td_styles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_html"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_html" title="Link to this definition"></a></dt>
<dd><p>Outputs table to html.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a file already exists at the given location, it will be
overwritten.</p>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>local_path: str</dt><dd><p>The path to write the html locally. If not specified, a temporary file will be
created and returned, and that file will be removed automatically when the script
is done running.</p>
</dd>
<dt>encoding: str</dt><dd><p>The encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt>index_header: boolean</dt><dd><p>Prepend index to column names; Defaults to False.</p>
</dd>
<dt>caption: str</dt><dd><p>A caption to include with the html table.</p>
</dd>
<dt>tr_style: str or callable</dt><dd><p>Style to be applied to the table row.</p>
</dd>
<dt>td_styles: str, dict or callable</dt><dd><p>Styles to be applied to the table cells.</p>
</dd>
<dt>truncate: int</dt><dd><p>Length of cell data.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The path of the new file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_file_compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_csv" title="Link to this definition"></a></dt>
<dd><p>Outputs table to a CSV. Additional key word arguments are passed to <code class="docutils literal notranslate"><span class="pre">csv.writer()</span></code>. So,
e.g., to override the delimiter from the default CSV dialect, provide the delimiter
keyword argument.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a file already exists at the given location, it will be
overwritten.</p>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>local_path: str</dt><dd><p>The path to write the csv locally. If it ends in “.gz” or “.zip”, the file will be
compressed. If not specified, a temporary file will be created and returned,
and that file will be removed automatically when the script is done running.</p>
</dd>
<dt>temp_file_compression: str</dt><dd><p>If a temp file is requested (ie. no <code class="docutils literal notranslate"><span class="pre">local_path</span></code> is specified), the compression
type for that file. Currently “None”, “gzip” or “zip” are supported.
If a <code class="docutils literal notranslate"><span class="pre">local_path</span></code> is specified, this argument is ignored.</p>
</dd>
<dt>encoding: str</dt><dd><p>The CSV encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt>write_header: boolean</dt><dd><p>Include header in output</p>
</dd>
<dt>csv_name: str</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">zip</span></code> compression (either specified or inferred), the name of csv file
within the archive.</p>
</dd>
<dt><a href="#id8"><span class="problematic" id="id9">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_writer</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The path of the new file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.append_csv">
<span class="sig-name descname"><span class="pre">append_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.append_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.append_csv" title="Link to this definition"></a></dt>
<dd><p>Appends table to an existing CSV.</p>
<p>Additional additional key word arguments
are passed to <code class="docutils literal notranslate"><span class="pre">csv.writer()</span></code>. So, e.g., to override the delimiter
from the default CSV dialect, provide the delimiter keyword argument.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>local_path: str</dt><dd><p>The local path of an existing CSV file. If it ends in “.gz”, the file will
be compressed.</p>
</dd>
<dt>encoding: str</dt><dd><p>The CSV encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt><a href="#id11"><span class="problematic" id="id12">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_writer</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The path of the file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_zip_csv">
<span class="sig-name descname"><span class="pre">to_zip_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">archive_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'replace'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_zip_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_zip_csv" title="Link to this definition"></a></dt>
<dd><p>Outputs table to a CSV in a zip archive. Additional key word arguments are passed to
<code class="docutils literal notranslate"><span class="pre">csv.writer()</span></code>. So, e.g., to override the delimiter from the default CSV dialect,
provide the delimiter keyword argument. Use thismethod if you would like to write
multiple csv files to the same archive.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a file already exists in the archive, it will be overwritten.</p>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>archive_path: str</dt><dd><p>The path to zip achive. If not specified, a temporary file will be created and
returned, and that file will be removed automatically when the script is done
running.</p>
</dd>
<dt>csv_name: str</dt><dd><p>The name of the csv file to be stored in the archive. If <code class="docutils literal notranslate"><span class="pre">None</span></code> will use
the archive name.</p>
</dd>
<dt>encoding: str</dt><dd><p>The CSV encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt>write_header: boolean</dt><dd><p>Include header in output</p>
</dd>
<dt>if_exists: str</dt><dd><p>If archive already exists, one of ‘replace’ or ‘append’</p>
</dd>
<dt><a href="#id14"><span class="problematic" id="id15">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_writer</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The path of the archive</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_file_compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_delimited</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_json" title="Link to this definition"></a></dt>
<dd><p>Outputs table to a JSON file</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a file already exists at the given location, it will be
overwritten.</p>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>local_path: str</dt><dd><p>The path to write the JSON locally. If it ends in “.gz”, it will be
compressed first. If not specified, a temporary file will be created and returned,
and that file will be removed automatically when the script is done running.</p>
</dd>
<dt>temp_file_compression: str</dt><dd><p>If a temp file is requested (ie. no <code class="docutils literal notranslate"><span class="pre">local_path</span></code> is specified), the compression
type for that file. Currently “None” and “gzip” are supported.
If a <code class="docutils literal notranslate"><span class="pre">local_path</span></code> is specified, this argument is ignored.</p>
</dd>
<dt>line_delimited: bool</dt><dd><p>Whether the file will be line-delimited JSON (with a row on each line), or a proper
JSON file.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The path of the new file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_dicts">
<span class="sig-name descname"><span class="pre">to_dicts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_dicts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_dicts" title="Link to this definition"></a></dt>
<dd><p>Output table as a list of dicts.</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_sftp_csv">
<span class="sig-name descname"><span class="pre">to_sftp_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">22</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rsa_private_key_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_sftp_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_sftp_csv" title="Link to this definition"></a></dt>
<dd><p>Writes the table to a CSV file on a remote SFTP server</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>remote_path: str</dt><dd><p>The remote path of the file. If it ends in ‘.gz’, the file will be compressed.</p>
</dd>
<dt>host: str</dt><dd><p>The remote host</p>
</dd>
<dt>username: str</dt><dd><p>The username to access the SFTP server</p>
</dd>
<dt>password: str</dt><dd><p>The password to access the SFTP server</p>
</dd>
<dt>port: int</dt><dd><p>The port number of the SFTP server</p>
</dd>
<dt>encoding: str</dt><dd><p>The CSV encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt>write_header: boolean</dt><dd><p>Include header in output</p>
</dd>
<dt>rsa_private_key_file str</dt><dd><p>Absolute path to a private RSA key used
to authenticate stfp connection</p>
</dd>
<dt><a href="#id17"><span class="problematic" id="id18">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_writer</span></code> optional arguments</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_s3_csv">
<span class="sig-name descname"><span class="pre">to_s3_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aws_access_key_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aws_secret_access_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bucket-owner-full-control'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public_url_expires</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_env_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_s3_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_s3_csv" title="Link to this definition"></a></dt>
<dd><p>Writes the table to an s3 object as a CSV</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket: str</dt><dd><p>The s3 bucket to upload to</p>
</dd>
<dt>key: str</dt><dd><p>The s3 key to name the file. If it ends in ‘.gz’ or ‘.zip’, the file will be
compressed.</p>
</dd>
<dt>aws_access_key_id: str</dt><dd><p>Required if not included as environmental variable</p>
</dd>
<dt>aws_secret_access_key: str</dt><dd><p>Required if not included as environmental variable</p>
</dd>
<dt>compression: str</dt><dd><p>The compression type for the s3 object. Currently “None”, “zip” and “gzip” are
supported. If specified, will override the key suffix.</p>
</dd>
<dt>encoding: str</dt><dd><p>The CSV encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt>write_header: boolean</dt><dd><p>Include header in output</p>
</dd>
<dt>public_url: boolean</dt><dd><p>Create a public link to the file</p>
</dd>
<dt>public_url_expire: 3600</dt><dd><p>The time, in seconds, until the url expires if <code class="docutils literal notranslate"><span class="pre">public_url</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt>acl: str</dt><dd><p>The S3 permissions on the file</p>
</dd>
<dt>use_env_token: boolean</dt><dd><p>Controls use of the <code class="docutils literal notranslate"><span class="pre">AWS_SESSION_TOKEN</span></code> environment variable for S3. Defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> in order to ignore the <code class="docutils literal notranslate"><span class="pre">AWS_SESSION_TOKEN</span></code> env
variable even if the <code class="docutils literal notranslate"><span class="pre">aws_session_token</span></code> argument was not passed in.</p>
</dd>
<dt><a href="#id20"><span class="problematic" id="id21">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_writer</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>Public url if specified. If not <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_gcs_csv">
<span class="sig-name descname"><span class="pre">to_gcs_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gcs_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_creds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'strict'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public_url_expires</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_gcs_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_gcs_csv" title="Link to this definition"></a></dt>
<dd><p>Writes the table to a Google Cloud Storage blob as a CSV.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The bucket to upload to</p>
</dd>
<dt>blob_name: str</dt><dd><p>The blob to name the file. If it ends in ‘.gz’ or ‘.zip’, the file will be
compressed.</p>
</dd>
<dt>app_creds: str</dt><dd><p>A credentials json string or a path to a json file. Not required
if <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> env variable set.</p>
</dd>
<dt>project: str</dt><dd><p>The project which the client is acting on behalf of. If not passed
then will use the default inferred environment.</p>
</dd>
<dt>compression: str</dt><dd><p>The compression type for the csv. Currently “None”, “zip” and “gzip” are
supported. If specified, will override the key suffix.</p>
</dd>
<dt>encoding: str</dt><dd><p>The CSV encoding type for <a class="reference external" href="https://docs.python.org/2/library/csv.html#csv.writer/">csv.writer()</a></p>
</dd>
<dt>errors: str</dt><dd><p>Raise an Error if encountered</p>
</dd>
<dt>write_header: boolean</dt><dd><p>Include header in output</p>
</dd>
<dt>public_url: boolean</dt><dd><p>Create a public link to the file</p>
</dd>
<dt>public_url_expire: 60</dt><dd><p>The time, in minutes, until the url expires if <code class="docutils literal notranslate"><span class="pre">public_url</span></code> set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
<dt><a href="#id23"><span class="problematic" id="id24">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_writer</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>Public url if specified. If not <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_redshift">
<span class="sig-name descname"><span class="pre">to_redshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">copy_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_redshift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_redshift" title="Link to this definition"></a></dt>
<dd><p>Write a table to a Redshift database. Note, this requires you to pass
AWS S3 credentials or store them as environmental variables.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>table_name: str</dt><dd><p>The table name and schema (<code class="docutils literal notranslate"><span class="pre">my_schema.my_table</span></code>) to point the file.</p>
</dd>
<dt>username: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_USERNAME</span></code> not populated</p>
</dd>
<dt>password: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_PASSWORD</span></code> not populated</p>
</dd>
<dt>host: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_HOST</span></code> not populated</p>
</dd>
<dt>db: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_DB</span></code> not populated</p>
</dd>
<dt>port: int</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_PORT</span></code> not populated. Port 5439 is typical.</p>
</dd>
<dt><a href="#id25"><span class="problematic" id="id26">**</span></a>copy_args: kwargs</dt><dd><p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">copy`()</span></code> for options.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_postgres">
<span class="sig-name descname"><span class="pre">to_postgres</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">copy_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_postgres"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_postgres" title="Link to this definition"></a></dt>
<dd><p>Write a table to a Postgres database.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>table_name: str</dt><dd><p>The table name and schema (<code class="docutils literal notranslate"><span class="pre">my_schema.my_table</span></code>) to point the file.</p>
</dd>
<dt>username: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGUSER</span></code> not populated</p>
</dd>
<dt>password: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGPASSWORD</span></code> not populated</p>
</dd>
<dt>host: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGHOST</span></code> not populated</p>
</dd>
<dt>db: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGDATABASE</span></code> not populated</p>
</dd>
<dt>port: int</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGPORT</span></code> not populated.</p>
</dd>
<dt><a href="#id27"><span class="problematic" id="id28">**</span></a>copy_args: kwargs</dt><dd><p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">copy`()</span></code> for options.</p>
</dd>
</dl>
</dd>
<dt>Returns:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_bigquery">
<span class="sig-name descname"><span class="pre">to_bigquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_creds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_bigquery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_bigquery" title="Link to this definition"></a></dt>
<dd><p>Write a table to BigQuery</p>
<dl class="simple">
<dt><cite>Args</cite>:</dt><dd><dl class="simple">
<dt>table_name: str</dt><dd><p>Table name to write to in BigQuery; this should be in <cite>schema.table</cite> format</p>
</dd>
<dt>app_creds: str</dt><dd><p>A credentials json string or a path to a json file. Not required
if <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> env variable set.</p>
</dd>
<dt>project: str</dt><dd><p>The project which the client is acting on behalf of. If not passed
then will use the default inferred environment.</p>
</dd>
<dt><a href="#id29"><span class="problematic" id="id30">**</span></a>kwargs: kwargs</dt><dd><p>Additional keyword arguments passed into the <cite>.copy()</cite> function (<cite>if_exists</cite>,
<cite>max_errors</cite>, etc.)</p>
</dd>
</dl>
</dd>
<dt><cite>Returns</cite>:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.to_civis">
<span class="sig-name descname"><span class="pre">to_civis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_errors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_table_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fail'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diststyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distkey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortkey1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sortkey2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">civisargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.to_civis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.to_civis" title="Link to this definition"></a></dt>
<dd><p>Write the table to a Civis Redshift cluster. Additional key word
arguments can passed to <a class="reference external" href="https://civis-python.readthedocs.io/en/v1.9.0/generated/civis.io.dataframe_to_civis.html#civis.io.dataframe_to_civis">civis.io.dataframe_to_civis()</a></p>
<dl class="simple">
<dt><cite>Args</cite></dt><dd><dl class="simple">
<dt>table: str</dt><dd><p>The schema and table you want to upload to. E.g.,
‘scratch.table’. Schemas or tablenames with periods must be
double quoted, e.g. ‘scratch.”my.table”’.</p>
</dd>
<dt>api_key: str</dt><dd><p>Your Civis API key. If not given, the CIVIS_API_KEY environment
variable will be used.</p>
</dd>
<dt>db: str or int</dt><dd><p>The Civis Database. Can be database name or ID</p>
</dd>
<dt>max_errors: int</dt><dd><p>The maximum number of rows with errors to remove from
the import before failing.</p>
</dd>
<dt>diststyle: str</dt><dd><p>The distribution style for the table. One of <cite>‘even’</cite>, <cite>‘all’</cite>
or <cite>‘key’</cite>.</p>
</dd>
<dt>existing_table_rows: str</dt><dd><p>The behaviour if a table with the requested name already
exists. One of <cite>‘fail’</cite>, <cite>‘truncate’</cite>, <cite>‘append’</cite> or <cite>‘drop’</cite>.
Defaults to <cite>‘fail’</cite>.</p>
</dd>
<dt>distkey: str</dt><dd><p>The column to use as the distkey for the table.</p>
</dd>
<dt>sortkey1: str</dt><dd><p>The column to use as the sortkey for the table.</p>
</dd>
<dt>sortkey2: str</dt><dd><p>The second column in a compound sortkey for the table.</p>
</dd>
<dt>wait: boolean</dt><dd><p>Wait for write job to complete before exiting method.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_csv">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_csv" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> object from a CSV file</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>local_path: obj</dt><dd><p>A csv formatted local path, url or ftp. If this is a
file path that ends in “.gz”, the file will be decompressed first.</p>
</dd>
<dt><a href="#id31"><span class="problematic" id="id32">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_reader</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_csv_string">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_csv_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_csv_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_csv_string" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> object from a string representing a CSV.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>str: str</dt><dd><p>The string object to convert to a table</p>
</dd>
<dt><a href="#id33"><span class="problematic" id="id34">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_reader</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_columns">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_columns" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a list of lists organized as columns</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>cols: list</dt><dd><p>A list of lists organized as columns</p>
</dd>
<dt>header: list</dt><dd><p>List of column names. If not specified, will use dummy column names</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_json">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_delimited</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_json" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a json file</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>local_path: list</dt><dd><p>A JSON formatted local path, url or ftp. If this is a
file path that ends in “.gz”, the file will be decompressed first.</p>
</dd>
<dt>header: list</dt><dd><p>List of columns to use for the destination table. If omitted, columns will
be inferred from the initial data in the file.</p>
</dd>
<dt>line_delimited: bool</dt><dd><p>Whether the file is line-delimited JSON (with a row on each line), or a proper
JSON file.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_redshift">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_redshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_redshift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_redshift" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a Redshift query.</p>
<p>To pull an entire Redshift table, use a query like <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">tablename</span></code>.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>sql: str</dt><dd><p>A valid SQL statement</p>
</dd>
<dt>username: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_USERNAME</span></code> not populated</p>
</dd>
<dt>password: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_PASSWORD</span></code> not populated</p>
</dd>
<dt>host: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_HOST</span></code> not populated</p>
</dd>
<dt>db: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_DB</span></code> not populated</p>
</dd>
<dt>port: int</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">REDSHIFT_PORT</span></code> not populated. Port 5439 is typical.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_postgres">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_postgres</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_postgres"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_postgres" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>sql: str</dt><dd><p>A valid SQL statement</p>
</dd>
<dt>username: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGUSER</span></code> not populated</p>
</dd>
<dt>password: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGPASSWORD</span></code> not populated</p>
</dd>
<dt>host: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGHOST</span></code> not populated</p>
</dd>
<dt>db: str</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGDATABASE</span></code> not populated</p>
</dd>
<dt>port: int</dt><dd><p>Required if env variable <code class="docutils literal notranslate"><span class="pre">PGPORT</span></code> not populated.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_s3_csv">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_s3_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_manifest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aws_access_key_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aws_secret_access_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">csvargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_s3_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_s3_csv" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a key in an S3 bucket.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket: str</dt><dd><p>The S3 bucket.</p>
</dd>
<dt>key: str</dt><dd><p>The S3 key</p>
</dd>
<dt>from_manifest: bool</dt><dd><p>If True, treats <cite>key</cite> as a manifest file and loads all urls into a <cite>parsons.Table</cite>.
Defaults to False.</p>
</dd>
<dt>aws_access_key_id: str</dt><dd><p>Required if not included as environmental variable.</p>
</dd>
<dt>aws_secret_access_key: str</dt><dd><p>Required if not included as environmental variable.</p>
</dd>
<dt><a href="#id35"><span class="problematic" id="id36">**</span></a>csvargs: kwargs</dt><dd><p><code class="docutils literal notranslate"><span class="pre">csv_reader</span></code> optional arguments</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>parsons.Table</cite> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_bigquery">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_bigquery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_creds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_bigquery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_bigquery" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a BigQuery statement.</p>
<p>To pull an entire BigQuery table, use a query like <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">{{</span> <span class="pre">table</span> <span class="pre">}}</span></code>.</p>
<dl>
<dt><cite>Args</cite>:</dt><dd><dl class="simple">
<dt>sql: str</dt><dd><p>A valid SQL statement</p>
</dd>
<dt>app_creds: str</dt><dd><p>A credentials json string or a path to a json file. Not required
if <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> env variable set.</p>
</dd>
<dt>project: str</dt><dd><p>The project which the client is acting on behalf of. If not passed
then will use the default inferred environment.</p>
</dd>
</dl>
<p>TODO - Should users be able to pass in kwargs here? For parameters?</p>
</dd>
<dt><cite>Returns</cite>:</dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.tofrom.ToFrom.from_dataframe">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/tofrom.html#ToFrom.from_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.tofrom.ToFrom.from_dataframe" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a Pandas dataframe.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>dataframe: dataframe</dt><dd><p>A valid Pandas dataframe objectt</p>
</dd>
<dt>include_index: boolean</dt><dd><p>Include index column</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="transformation-api">
<h2>Transformation API<a class="headerlink" href="#transformation-api" title="Link to this heading"></a></h2>
<p>The following methods allow you to manipulate the Parsons table data.</p>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.etl.etl.</span></span><span class="sig-name descname"><span class="pre">ETL</span></span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL" title="Link to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.head" title="Link to this definition"></a></dt>
<dd><p>Return the first n rows of the table</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>n: int</dt><dd><p>The number of rows to return. Defaults to 5.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.tail">
<span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.tail" title="Link to this definition"></a></dt>
<dd><p>Return the last n rows of the table. Defaults to 5.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>n: int</dt><dd><p>The number of rows to return</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fail'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.add_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.add_column" title="Link to this definition"></a></dt>
<dd><p>Add a column to your table</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>Name of column to add</p>
</dd>
<dt>value:</dt><dd><p>A fixed or calculated value</p>
</dd>
<dt>index: int</dt><dd><p>The position of the new column in the table</p>
</dd>
<dt>if_exists: str (options: ‘fail’, ‘replace’)</dt><dd><p>If set <cite>replace</cite>, this function will call <cite>fill_column</cite>
if the column already exists, rather than raising a <cite>ValueError</cite></p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.remove_column">
<span class="sig-name descname"><span class="pre">remove_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.remove_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.remove_column" title="Link to this definition"></a></dt>
<dd><p>Remove a column from your table</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt><a href="#id37"><span class="problematic" id="id38">*</span></a>columns: str</dt><dd><p>Column names</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.rename_column">
<span class="sig-name descname"><span class="pre">rename_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.rename_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.rename_column" title="Link to this definition"></a></dt>
<dd><p>Rename a column</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column_name: str</dt><dd><p>The current column name</p>
</dd>
<dt>new_column_name: str</dt><dd><p>The new column name</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.rename_columns">
<span class="sig-name descname"><span class="pre">rename_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.rename_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.rename_columns" title="Link to this definition"></a></dt>
<dd><p>Rename multiple columns</p>
<dl>
<dt><cite>Args:</cite></dt><dd><dl>
<dt>column_map: dict</dt><dd><p>A dictionary of columns and new names.
The key is the old name and the value is the new name.</p>
<p>Example dictionary:
{‘old_name’: ‘new_name’,
‘old_name2’: ‘new_name2’}</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.fill_column">
<span class="sig-name descname"><span class="pre">fill_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.fill_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.fill_column" title="Link to this definition"></a></dt>
<dd><p>Fill a column in a table</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column_name: str</dt><dd><p>The column to fill</p>
</dd>
<dt>fill_value:</dt><dd><p>A fixed or calculated value</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.fillna_column">
<span class="sig-name descname"><span class="pre">fillna_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.fillna_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.fillna_column" title="Link to this definition"></a></dt>
<dd><p>Fill None values in a column in a table</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column_name: str</dt><dd><p>The column to fill</p>
</dd>
<dt>fill_value:</dt><dd><p>A fixed or calculated value</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.move_column">
<span class="sig-name descname"><span class="pre">move_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.move_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.move_column" title="Link to this definition"></a></dt>
<dd><p>Move a column</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>The column name to move</p>
</dd>
<dt>index:</dt><dd><p>The new index for the column</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates existing object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.convert_column">
<span class="sig-name descname"><span class="pre">convert_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.convert_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.convert_column" title="Link to this definition"></a></dt>
<dd><p>Transform values under one or more fields via arbitrary functions, method
invocations or dictionary translations. This leverages the petl <code class="docutils literal notranslate"><span class="pre">convert()</span></code>
method. Example usage can be found <a class="reference external" href="https://petl.readthedocs.io/latest/transform.html#petl.transform.conversions.convert">here</a>.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt><a href="#id39"><span class="problematic" id="id40">*</span></a>column: str</dt><dd><p>A single column or multiple columns passed as a list</p>
</dd>
<dt><a href="#id41"><span class="problematic" id="id42">**</span></a>kwargs: str, method or variable</dt><dd><p>The update function, method, or variable to process the update</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.get_column_max_width">
<span class="sig-name descname"><span class="pre">get_column_max_width</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.get_column_max_width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.get_column_max_width" title="Link to this definition"></a></dt>
<dd><p>Return the maximum width of the column.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>The column name.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.convert_columns_to_str">
<span class="sig-name descname"><span class="pre">convert_columns_to_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.convert_columns_to_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.convert_columns_to_str" title="Link to this definition"></a></dt>
<dd><p>Convenience function to convert all non-string or mixed columns in a
Parsons table to string (e.g. for comparison)</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.coalesce_columns">
<span class="sig-name descname"><span class="pre">coalesce_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_source_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.coalesce_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.coalesce_columns" title="Link to this definition"></a></dt>
<dd><p>Coalesces values from one or more source columns into a destination column, by selecting
the first non-empty value. If the destination column doesn’t exist, it will be added.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>dest_column: str</dt><dd><p>Name of destination column</p>
</dd>
<dt>source_columns: list</dt><dd><p>List of source column names</p>
</dd>
<dt>remove_source_columns: bool</dt><dd><p>Whether to remove the source columns after the coalesce. If the destination
column is also one of the source columns, it will not be removed.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.map_columns">
<span class="sig-name descname"><span class="pre">map_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.map_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.map_columns" title="Link to this definition"></a></dt>
<dd><p>Standardizes column names based on multiple possible values. This method
is helpful when your input table might have multiple and unknown column
names.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column_map: dict</dt><dd><p>A dictionary of columns and possible values that map to it</p>
</dd>
<dt>exact_match: boolean</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code> will only map if an exact match. If <code class="docutils literal notranslate"><span class="pre">False</span></code> will
ignore case, spaces and underscores.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;fn&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;lastname&#39;</span><span class="p">:</span> <span class="s1">&#39;Doe&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;dob&#39;</span><span class="p">:</span> <span class="s1">&#39;1980-01-01&#39;</span><span class="p">}]</span>
<span class="n">column_map</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first_name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;fn&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;firstname&#39;</span><span class="p">],</span>
              <span class="s1">&#39;last_name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ln&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">,</span> <span class="s1">&#39;lastname&#39;</span><span class="p">],</span>
              <span class="s1">&#39;date_of_birth&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="s1">&#39;birthday&#39;</span><span class="p">]}</span>

<span class="n">tbl</span><span class="o">.</span><span class="n">map_columns</span><span class="p">(</span><span class="n">column_map</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">tbl</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="p">{{</span><span class="s1">&#39;first_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Doe&#39;</span><span class="p">,</span> <span class="s1">&#39;date_of_birth&#39;</span><span class="p">:</span> <span class="s1">&#39;1908-01-01&#39;</span><span class="p">}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.map_and_coalesce_columns">
<span class="sig-name descname"><span class="pre">map_and_coalesce_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_map</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.map_and_coalesce_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.map_and_coalesce_columns" title="Link to this definition"></a></dt>
<dd><p>Coalesces columns based on multiple possible values. The columns in the map
do not need to be in your table, so you can create a map with all possibilities.
The coalesce will occur in the order that the columns are listed, unless the
destination column name already exists in the table, in which case that
value will be preferenced. This method is helpful when your input table might
have multiple and unknown column names.
<cite>Args:</cite></p>
<blockquote>
<div><dl class="simple">
<dt>column_map: dict</dt><dd><p>A dictionary of columns and possible values that map to it</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;first&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;fn&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;lastname&#39;</span><span class="p">:</span> <span class="s1">&#39;Doe&#39;</span><span class="p">},</span>
       <span class="p">{</span><span class="s1">&#39;dob&#39;</span><span class="p">:</span> <span class="s1">&#39;1980-01-01&#39;</span><span class="p">}]</span>

<span class="n">column_map</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;first_name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;fn&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;firstname&#39;</span><span class="p">],</span>
              <span class="s1">&#39;last_name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ln&#39;</span><span class="p">,</span> <span class="s1">&#39;last&#39;</span><span class="p">,</span> <span class="s1">&#39;lastname&#39;</span><span class="p">],</span>
              <span class="s1">&#39;date_of_birth&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;dob&#39;</span><span class="p">,</span> <span class="s1">&#39;birthday&#39;</span><span class="p">]}</span>

<span class="n">tbl</span><span class="o">.</span><span class="n">map_and_coalesce_columns</span><span class="p">(</span><span class="n">column_map</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="n">tbl</span><span class="p">)</span>
<span class="o">&gt;&gt;</span> <span class="p">{{</span><span class="s1">&#39;first_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Doe&#39;</span><span class="p">,</span> <span class="s1">&#39;date_of_birth&#39;</span><span class="p">:</span> <span class="s1">&#39;1908-01-01&#39;</span><span class="p">}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.get_column_types">
<span class="sig-name descname"><span class="pre">get_column_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.get_column_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.get_column_types" title="Link to this definition"></a></dt>
<dd><p>Return all of the Python types for values in a given column</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>Name of the column to analyze</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>list</dt><dd><p>A list of Python types</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.get_columns_type_stats">
<span class="sig-name descname"><span class="pre">get_columns_type_stats</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.get_columns_type_stats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.get_columns_type_stats" title="Link to this definition"></a></dt>
<dd><p>Return descriptive stats for all columns</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>list</dt><dd><p>A list of dicts</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>list</dt><dd><p>A list of dicts, each containing a column ‘name’ and a ‘type’ list</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.convert_table">
<span class="sig-name descname"><span class="pre">convert_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.convert_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.convert_table" title="Link to this definition"></a></dt>
<dd><p>Transform all cells in a table via arbitrary functions, method invocations or dictionary
translations. This method is useful for cleaning fields and data hygiene functions such
as regex. This method leverages the petl <code class="docutils literal notranslate"><span class="pre">convert()</span></code> method. Example usage can be
found <cite>here</cite> &lt;<a class="reference external" href="https://petl.readthedocs.io/en/v0.24/transform.html#petl.convert">https://petl.readthedocs.io/en/v0.24/transform.html#petl.convert</a>&gt;`_.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt><a href="#id43"><span class="problematic" id="id44">*</span></a>args: str, method or variable</dt><dd><p>The update function, method, or variable to process the update. Can also</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.unpack_dict">
<span class="sig-name descname"><span class="pre">unpack_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.unpack_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.unpack_dict" title="Link to this definition"></a></dt>
<dd><p>Unpack dictionary values from one column into separate columns</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>The column name to unpack</p>
</dd>
<dt>keys: list</dt><dd><p>The dict keys in the column to unpack. If <code class="docutils literal notranslate"><span class="pre">None</span></code> will unpack
all.</p>
</dd>
<dt>include_original: boolean</dt><dd><p>Retain original column after unpacking</p>
</dd>
<dt>sample_size: int</dt><dd><p>Number of rows to sample before determining columns</p>
</dd>
<dt>missing: str</dt><dd><p>If a value is missing, the value to fill it with</p>
</dd>
<dt>prepend:</dt><dd><p>Prepend the column name of the unpacked values. Useful for
avoiding duplicate column names</p>
</dd>
<dt>prepend_value:</dt><dd><p>Value to prepend new columns if <code class="docutils literal notranslate"><span class="pre">prepend=True</span></code>. If None, will
set to column name.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.unpack_list">
<span class="sig-name descname"><span class="pre">unpack_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.unpack_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.unpack_list" title="Link to this definition"></a></dt>
<dd><p>Unpack list values from one column into separate columns. Numbers the
columns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Begin with a list in column</span>
<span class="n">json</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Green&#39;</span><span class="p">,</span>
         <span class="s1">&#39;phones&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;512-699-3334&#39;</span><span class="p">,</span> <span class="s1">&#39;512-222-5478&#39;</span><span class="p">]</span>
        <span class="p">}</span>
       <span class="p">]</span>

<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">tbl</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Green&#39;</span><span class="p">,</span> <span class="s1">&#39;phones&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;512-699-3334&#39;</span><span class="p">,</span> <span class="s1">&#39;512-222-5478&#39;</span><span class="p">]}</span>

<span class="n">tbl</span><span class="o">.</span><span class="n">unpack_list</span><span class="p">(</span><span class="s1">&#39;phones&#39;</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">tbl</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Green&#39;</span><span class="p">,</span> <span class="s1">&#39;phones_0&#39;</span><span class="p">:</span> <span class="s1">&#39;512-699-3334&#39;</span><span class="p">,</span> <span class="s1">&#39;phones_1&#39;</span><span class="p">:</span> <span class="s1">&#39;512-222-5478&#39;</span><span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>The column name to unpack</p>
</dd>
<dt>include_original: boolean</dt><dd><p>Retain original column after unpacking</p>
</dd>
<dt>sample_size: int</dt><dd><p>Number of rows to sample before determining columns</p>
</dd>
<dt>missing: str</dt><dd><p>If a value is missing, the value to fill it with</p>
</dd>
<dt>replace: boolean</dt><dd><p>Return new table or replace existing</p>
</dd>
<dt>max_columns: int</dt><dd><p>The maximum number of columns to unpack</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.unpack_nested_columns_as_rows">
<span class="sig-name descname"><span class="pre">unpack_nested_columns_as_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'id'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expand_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.unpack_nested_columns_as_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.unpack_nested_columns_as_rows" title="Link to this definition"></a></dt>
<dd><p>Unpack list or dict values from one column into separate rows.
Not recommended for JSON columns (i.e. lists of dicts), but can handle columns
with any mix of types. Makes use of PETL’s <cite>melt()</cite> method.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str</dt><dd><p>The column name to unpack</p>
</dd>
<dt>key: str</dt><dd><p>The column to use as a key when unpacking. Defaults to <cite>id</cite></p>
</dd>
<dt>expand_original: boolean or int</dt><dd><p>If <cite>True</cite>: Add resulting unpacked rows (with all other columns) to original
If <cite>int</cite>: Add to original unless the max added per key is above the given number
If <cite>False</cite> (default): Return unpacked rows (with <cite>key</cite> column only) as standalone
Removes packed list and dict rows from original either way.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>If <cite>expand_original</cite>, original table with packed rows replaced by unpacked rows
Otherwise, standalone table with key column and unpacked values only</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.long_table">
<span class="sig-name descname"><span class="pre">long_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retain_original</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prepend_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.long_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.long_table" title="Link to this definition"></a></dt>
<dd><p>Create a new long parsons table from a column, including the foreign
key.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Begin with nested dicts in a column</span>
<span class="n">json</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Green&#39;</span><span class="p">,</span>
         <span class="s1">&#39;emails&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;home&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@gmail.com&#39;</span><span class="p">},</span>
                    <span class="p">{</span><span class="s1">&#39;work&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@mywork.com&#39;</span><span class="p">}</span>
                   <span class="p">]</span>
        <span class="p">}</span>
       <span class="p">]</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">tbl</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Green&#39;</span><span class="p">,</span> <span class="s1">&#39;emails&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;home&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@gmail.com&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;work&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@mywork.com&#39;</span><span class="p">}]}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Jane Green&#39;</span><span class="p">,</span> <span class="s1">&#39;emails&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;home&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@gmail.com&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;work&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@mywork.com&#39;</span><span class="p">}]}</span>

<span class="c1"># Create skinny table of just the nested dicts</span>
<span class="n">email_skinny</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">long_table</span><span class="p">([</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="s1">&#39;emails&#39;</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="n">email_skinny</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span> <span class="s1">&#39;emails_home&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@gmail.com&#39;</span><span class="p">,</span> <span class="s1">&#39;emails_work&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5421&#39;</span><span class="p">,</span> <span class="s1">&#39;emails_home&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;emails_work&#39;</span><span class="p">:</span> <span class="s1">&#39;jane@mywork.com&#39;</span><span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>key: lst</dt><dd><p>The columns to retain in the long table (e.g. foreign keys)</p>
</dd>
<dt>column: str</dt><dd><p>The column name to make long</p>
</dd>
<dt>key_rename: dict</dt><dd><p>The new name for the foreign key to better identify it. For
example, you might want to rename <code class="docutils literal notranslate"><span class="pre">id</span></code> to <code class="docutils literal notranslate"><span class="pre">person_id</span></code>.
Ex. {‘KEY_NAME’: ‘NEW_KEY_NAME’}</p>
</dd>
<dt>retain_original: boolean</dt><dd><p>Retain the original column from the source table.</p>
</dd>
<dt>prepend:</dt><dd><p>Prepend the column name of the unpacked values. Useful for
avoiding duplicate column names</p>
</dd>
<dt>prepend_value:</dt><dd><p>Value to prepend new columns if <code class="docutils literal notranslate"><span class="pre">prepend=True</span></code>. If None, will
set to column name.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>The new long table</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.cut">
<span class="sig-name descname"><span class="pre">cut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.cut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.cut" title="Link to this definition"></a></dt>
<dd><p>Return a table of selection of columns</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt><a href="#id45"><span class="problematic" id="id46">*</span></a>columns: str</dt><dd><p>Columns in the parsons table</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>A new parsons table containing the selected columnns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.select_rows">
<span class="sig-name descname"><span class="pre">select_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">filters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.select_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.select_rows" title="Link to this definition"></a></dt>
<dd><p>Select specific rows from a Parsons table based on the passed
filters.</p>
<p>Example filters:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">],</span>
             <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">],</span>
             <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">88.2</span><span class="p">],</span>
             <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">23.3</span><span class="p">],])</span>

<span class="c1"># You can structure the filter in multiple wayss</span>

<span class="c1"># Lambda Function</span>
<span class="n">tbl2</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">select_rows</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="o">.</span><span class="n">foo</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span> <span class="ow">and</span> <span class="n">row</span><span class="o">.</span><span class="n">baz</span> <span class="o">&gt;</span> <span class="mf">88.1</span><span class="p">)</span>
<span class="n">tbl2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="mf">88.1</span><span class="p">}</span>

<span class="c1"># Expression String</span>
<span class="n">tbl3</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">select_rows</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{foo}</span><span class="s2"> == &#39;a&#39; and </span><span class="si">{baz}</span><span class="s2"> &gt; 88.1&quot;</span><span class="p">)</span>
<span class="n">tbl3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;baz&#39;</span><span class="p">:</span> <span class="mf">88.1</span><span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><p><a href="#id47"><span class="problematic" id="id48">*</span></a>filters: function or str</p>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>A new parsons table containing the selected rows</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.remove_null_rows">
<span class="sig-name descname"><span class="pre">remove_null_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">null_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.remove_null_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.remove_null_rows" title="Link to this definition"></a></dt>
<dd><p>Remove rows if the values in a column are <code class="docutils literal notranslate"><span class="pre">None</span></code>. If multiple columns
are passed as list, it will remove all rows with null values in any
of the passed columns.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>column: str or list</dt><dd><p>The column or columns to analyze</p>
</dd>
<dt>null_value: int or float or str</dt><dd><p>The null value</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.stack">
<span class="sig-name descname"><span class="pre">stack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.stack" title="Link to this definition"></a></dt>
<dd><p>Stack Parsons tables on top of one another.</p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">table.concat()</span></code>, except no attempt is made to align fields from
different tables.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>tables: Parsons Table or list</dt><dd><p>A single table, or a list of tables</p>
</dd>
<dt>missing: bool</dt><dd><p>The value to use when padding missing values</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.concat">
<span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.concat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.concat" title="Link to this definition"></a></dt>
<dd><p>Concatenates one or more tables onto this one.</p>
<p>Note that the tables do not need to share exactly the same fields.
Any missing fields will be padded with None, or whatever is provided via the
<code class="docutils literal notranslate"><span class="pre">missing</span></code> keyword argument.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>tables: Parsons Table or list</dt><dd><p>A single table, or a list of tables</p>
</dd>
<dt>missing: bool</dt><dd><p>The value to use when padding missing values</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.chunk">
<span class="sig-name descname"><span class="pre">chunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.chunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.chunk" title="Link to this definition"></a></dt>
<dd><p>Divides a Parsons table into smaller tables of a specified row count. If the table
cannot be divided evenly, then the final table will only include the remainder.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>rows: int</dt><dd><p>The number of rows of each new Parsons table</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>List of Parsons tables</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.get_normalized_column_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_normalized_column_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.get_normalized_column_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.get_normalized_column_name" title="Link to this definition"></a></dt>
<dd><p>Returns a column name with whitespace removed, non-alphanumeric characters removed, and
everything lowercased.</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>Normalized column name</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.match_columns">
<span class="sig-name descname"><span class="pre">match_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">desired_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzzy_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_extra_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'remove'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_missing_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'add'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.match_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.match_columns" title="Link to this definition"></a></dt>
<dd><p>Changes the column names and ordering in this Table to match a list of desired column
names.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>desired_columns: list</dt><dd><p>Ordered list of desired column names</p>
</dd>
<dt>fuzzy_match: bool</dt><dd><p>Whether to normalize column names when matching against the desired column names,
removing whitespace and non-alphanumeric characters, and lowercasing everything.
Eg. With this flag set, “FIRST NAME” would match “first_name”.
If the Table has two columns that normalize to the same string (eg. “FIRST NAME”
and “first_name”), the latter will be considered an extra column.</p>
</dd>
<dt>if_extra_columns: string</dt><dd><p>If the Table has columns that don’t match any desired columns, either ‘remove’
them, ‘ignore’ them, or ‘fail’ (raising an error).</p>
</dd>
<dt>if_missing_columns: string</dt><dd><p>If the Table is missing some of the desired columns, either ‘add’ them (with a
value of None), ‘ignore’ them, or ‘fail’ (raising an error).</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.reduce_rows">
<span class="sig-name descname"><span class="pre">reduce_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presorted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.reduce_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.reduce_rows" title="Link to this definition"></a></dt>
<dd><p>Group rows by a column or columns, then reduce the groups to a single row.</p>
<p>Based on the <a class="reference external" href="https://petl.readthedocs.io/en/stable/transform.html#petl.transform.reductions.rowreduce">rowreduce petl function</a>.</p>
<p>For example, the output from the query to get a table’s definition is
returned as one component per row. The <cite>reduce_rows</cite> method can be used
to reduce all those to a single row containg the entire query.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ddl</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sql_to_get_table_ddl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ddl</span><span class="o">.</span><span class="n">table</span>

<span class="go">+--------------+--------------+----------------------------------------------------+</span>
<span class="go">| schemaname   | tablename    | ddl                                                |</span>
<span class="go">+==============+==============+====================================================+</span>
<span class="go">| &#39;db_scratch&#39; | &#39;state_fips&#39; | &#39;--DROP TABLE db_scratch.state_fips;&#39;              |</span>
<span class="go">+--------------+--------------+----------------------------------------------------+</span>
<span class="go">| &#39;db_scratch&#39; | &#39;state_fips&#39; | &#39;CREATE TABLE IF NOT EXISTS db_scratch.state_fips&#39; |</span>
<span class="go">+--------------+--------------+----------------------------------------------------+</span>
<span class="go">| &#39;db_scratch&#39; | &#39;state_fips&#39; | &#39;(&#39;                                                |</span>
<span class="go">+--------------+--------------+----------------------------------------------------+</span>
<span class="go">| &#39;db_scratch&#39; | &#39;state_fips&#39; | &#39;\tstate VARCHAR(1024)   ENCODE RAW&#39;               |</span>
<span class="go">+--------------+--------------+----------------------------------------------------+</span>
<span class="go">| &#39;db_scratch&#39; | &#39;state_fips&#39; | &#39;\t,stusab VARCHAR(1024)   ENCODE RAW&#39;             |</span>
<span class="go">+--------------+--------------+----------------------------------------------------+</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">reducer_fn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">columns</span><span class="p">,</span> <span class="n">rows</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ddl</span><span class="o">.</span><span class="n">reduce_rows</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;schemaname&#39;</span><span class="p">,</span> <span class="s1">&#39;tablename&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">reducer_fn</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;tablename&#39;</span><span class="p">,</span> <span class="s1">&#39;ddl&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">presorted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ddl</span><span class="o">.</span><span class="n">table</span>

<span class="go">+-------------------------+-----------------------------------------------------------------------+</span>
<span class="go">| tablename               | ddl                                                                   |</span>
<span class="go">+=========================+=======================================================================+</span>
<span class="go">| &#39;db_scratch.state_fips&#39; | &#39;--DROP TABLE db_scratch.state_fips;\nCREATE TABLE IF NOT EXISTS      |</span>
<span class="go">|                         | db_scratch.state_fips\n(\n\tstate VARCHAR(1024)   ENCODE RAW\n\t      |</span>
<span class="go">|                         | ,db_scratch.state_fips\n(\n\tstate VARCHAR(1024)   ENCODE RAW         |</span>
<span class="go">|                         | \n\t,stusab VARCHAR(1024)   ENCODE RAW\n\t,state_name                 |</span>
<span class="go">|                         | VARCHAR(1024)   ENCODE RAW\n\t,statens VARCHAR(1024)   ENCODE         |</span>
<span class="go">|                         | RAW\n)\nDISTSTYLE EVEN\n;&#39;                                            |</span>
<span class="go">+-------------------------+-----------------------------------------------------------------------+</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>columns: list</dt><dd><p>The column(s) by which to group the rows.</p>
</dd>
<dt>reduce_func: fun</dt><dd><p>The function by which to reduce the rows. Should take the 2
arguments, the columns list and the rows list and return a list.
<cite>reducer(columns: list, rows: list) -&gt; list;</cite></p>
</dd>
<dt>headers: list</dt><dd><p>The list of headers for modified table. The length of <cite>headers</cite>
should match the length of the list returned by the reduce
function.</p>
</dd>
<dt>presorted: bool</dt><dd><p>If false, the row will be sorted.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.sort">
<span class="sig-name descname"><span class="pre">sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.sort" title="Link to this definition"></a></dt>
<dd><p>Sort the rows a table.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>sort_columns: list or str</dt><dd><p>Sort by a single column or a list of column. If <code class="docutils literal notranslate"><span class="pre">None</span></code> then
will sort columns from left to right.</p>
</dd>
<dt>reverse: boolean</dt><dd><p>Sort rows in reverse order.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.set_header">
<span class="sig-name descname"><span class="pre">set_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.set_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.set_header" title="Link to this definition"></a></dt>
<dd><p>Replace the header row of the table.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>new_header: list</dt><dd><p>List of new header column names</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.use_petl">
<span class="sig-name descname"><span class="pre">use_petl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">petl_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.use_petl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.use_petl" title="Link to this definition"></a></dt>
<dd><p>Call a petl function on the current table.</p>
<p>This convenience method exposes the petl functions to the current
Table. This is useful in cases where one might need a <code class="docutils literal notranslate"><span class="pre">petl</span></code> function
that has not yet been implemented for <code class="docutils literal notranslate"><span class="pre">parsons.Table</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># https://petl.readthedocs.io/en/v1.6.0/transform.html#petl.transform.basics.skipcomments</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;col1&#39;</span><span class="p">,</span> <span class="s1">&#39;col2&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;# this is a comment row&#39;</span><span class="p">,],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;#this is another comment&#39;</span><span class="p">,</span> <span class="s1">&#39;this is also ignored&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">use_petl</span><span class="p">(</span><span class="s1">&#39;skipcomments&#39;</span><span class="p">,</span> <span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="n">update_table</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="go">{&#39;col1&#39;: &#39;a&#39;, &#39;col2&#39;: 1}</span>
<span class="go">{&#39;col1&#39;: &#39;b&#39;, &#39;col2&#39;: 2}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span>

<span class="go">+------+------+</span>
<span class="go">| col1 | col2 |</span>
<span class="go">+======+======+</span>
<span class="go">| &#39;a&#39;  |    1 |</span>
<span class="go">+------+------+</span>
<span class="go">| &#39;b&#39;  |    2 |</span>
<span class="go">+------+------+</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>petl_method: str</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">petl</span></code> function to call</p>
</dd>
<dt>update_table: bool</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, updates the <code class="docutils literal notranslate"><span class="pre">parsons.Table</span></code>. Defaults to
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt>to_petl: bool</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, returns a petl table, otherwise a <code class="docutils literal notranslate"><span class="pre">parsons.Table</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt><a href="#id49"><span class="problematic" id="id50">*</span></a>args: Any</dt><dd><p>The arguements to pass to the petl function.</p>
</dd>
<dt><a href="#id51"><span class="problematic" id="id52">**</span></a>kwargs: Any</dt><dd><p>The keyword arguements to pass to the petl function.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><cite>parsons.Table</cite> or <cite>petl</cite> table</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.etl.ETL.deduplicate">
<span class="sig-name descname"><span class="pre">deduplicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presorted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/etl.html#ETL.deduplicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.etl.ETL.deduplicate" title="Link to this definition"></a></dt>
<dd><p>Deduplicates table based on an optional <code class="docutils literal notranslate"><span class="pre">keys</span></code> argument,
which can contain any number of keys or None.</p>
<p>Method considers all keys specified in the <code class="docutils literal notranslate"><span class="pre">keys</span></code> argument
when deduplicating, not each key individually. For example,
if <code class="docutils literal notranslate"><span class="pre">keys=['a',</span> <span class="pre">'b']</span></code>, the method will not remove a record
unless it’s identical to another record in both columns <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span>
<span class="go">+---+---+</span>
<span class="go">| a | b |</span>
<span class="go">+===+===+</span>
<span class="go">| 1 | 3 |</span>
<span class="go">+---+---+</span>
<span class="go">| 1 | 2 |</span>
<span class="go">+---+---+</span>
<span class="go">| 1 | 2 |</span>
<span class="go">+---+---+</span>
<span class="go">| 2 | 3 |</span>
<span class="go">+---+---+</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">deduplicate</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># removes all subsequent rows with {&#39;a&#39;: 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span>
<span class="go">+---+---+</span>
<span class="go">| a | b |</span>
<span class="go">+===+===+</span>
<span class="go">| 1 | 3 |</span>
<span class="go">+---+---+</span>
<span class="go">| 2 | 3 |</span>
<span class="go">+---+---+</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span> <span class="c1"># reset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">deduplicate</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># sorted on both (&#39;a&#39;, &#39;b&#39;) so (1, 2) was placed before (1, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># did not remove second instance of {&#39;a&#39;: 1} or {&#39;b&#39;: 3}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span>
<span class="go">+---+---+</span>
<span class="go">| a | b |</span>
<span class="go">+===+===+</span>
<span class="go">| 1 | 2 |</span>
<span class="go">+---+---+</span>
<span class="go">| 1 | 3 |</span>
<span class="go">+---+---+</span>
<span class="go">| 2 | 3 |</span>
<span class="go">+---+---+</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span> <span class="c1"># reset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">deduplicate</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">deduplicate</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># can chain method to sort/dedupe on &#39;a&#39;, then sort/dedupe on &#39;b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span>
<span class="go">+---+---+</span>
<span class="go">| a | b |</span>
<span class="go">+===+===+</span>
<span class="go">| 1 | 3 |</span>
<span class="go">+---+---+</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span> <span class="c1"># reset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">deduplicate</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">deduplicate</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Order DOES matter when deduping on one column at a time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span>
<span class="go">+---+---+</span>
<span class="go">| a | b |</span>
<span class="go">+===+===+</span>
<span class="go">| 1 | 2 |</span>
<span class="go">+---+---+</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>keys: str or list[str] or None</dt><dd><p>keys to deduplicate (and optionally sort) on.</p>
</dd>
<dt>presorted: bool</dt><dd><p>If false, the row will be sorted.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns</cite>:</dt><dd><p><cite>Parsons Table</cite> and also updates self</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="materialize-api">
<h2>Materialize API<a class="headerlink" href="#materialize-api" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.etl.table.Table">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.etl.table.</span></span><span class="sig-name descname"><span class="pre">Table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">tuple</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Table</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_EmptyDefault</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">_EmptyDefault.token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/table.html#Table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.table.Table" title="Link to this definition"></a></dt>
<dd><p>Create a Parsons Table. Accepts one of the following:
- A list of lists, with list[0] holding field names, and the other lists holding data
- A list of dicts
- A petl table</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>lst: list</dt><dd><p>See above for accepted list formats</p>
</dd>
<dt>source: str</dt><dd><p>The original data source from which the data was pulled (optional)</p>
</dd>
<dt>name: str</dt><dd><p>The name of the table (optional)</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.table.Table.materialize">
<span class="sig-name descname"><span class="pre">materialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/table.html#Table.materialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.table.Table.materialize" title="Link to this definition"></a></dt>
<dd><p>“Materializes” a Table, meaning all data is loaded into memory and all pending
transformations are applied.</p>
<p>Use this if petl’s lazy-loading behavior is causing you problems, eg. if you want to read
data from a file immediately.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.etl.table.Table.materialize_to_file">
<span class="sig-name descname"><span class="pre">materialize_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/etl/table.html#Table.materialize_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.etl.table.Table.materialize_to_file" title="Link to this definition"></a></dt>
<dd><p>“Materializes” a Table, meaning all pending transformations are applied.</p>
<p>Unlike the original materialize function, this method does not bring the data into memory,
but instead loads the data into a local temp file.</p>
<p>This method updates the current table in place.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>file_path: str</dt><dd><p>The path to the file to materialize the table to; if not specified, a temp file
will be created.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>Path to the temp file that now contains the table</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dbsync.html" class="btn btn-neutral float-left" title="Database Sync" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="notifications.html" class="btn btn-neutral float-right" title="Notifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The Movement Cooperative.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Most Common</dt>
        <!-- Show latest & stable first -->
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                  <dd><a href="table.html">latest</a></dd>
            
        
            
                  <dd><a href="../stable/table.html">stable</a></dd>
            
        

        <dt>By Version Number</dt>
        <!-- Show other versions -->
        
            
                  <dd><a href="../v0.14.0/table.html">v0.14.0</a></dd>
            
        
            
                  <dd><a href="../v0.15.0/table.html">v0.15.0</a></dd>
            
        
            
                  <dd><a href="../v0.16.0/table.html">v0.16.0</a></dd>
            
        
            
                  <dd><a href="../v0.17.0/table.html">v0.17.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.0/table.html">v0.18.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.1/table.html">v0.18.1</a></dd>
            
        
            
        
            
        

      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>