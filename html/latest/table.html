

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L2YB7WHTRG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-L2YB7WHTRG');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parsons Table &mdash; Parsons  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notifications" href="notifications.html" />
    <link rel="prev" title="Database Sync" href="dbsync.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Parsons
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="actblue.html">ActBlue</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_kit.html">ActionKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_builder.html">Action Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_network.html">Action Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="airmeet.html">Airmeet</a></li>
<li class="toctree-l1"><a class="reference internal" href="airtable.html">Airtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="alchemer.html">Alchemer</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth0.html">Auth0</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.html">Azure: Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="bill_com.html">Bill.com</a></li>
<li class="toctree-l1"><a class="reference internal" href="bloomerang.html">Bloomerang</a></li>
<li class="toctree-l1"><a class="reference internal" href="box.html">Box</a></li>
<li class="toctree-l1"><a class="reference internal" href="braintree.html">Braintree</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitolcanary.html">CapitolCanary</a></li>
<li class="toctree-l1"><a class="reference internal" href="census.html">Census</a></li>
<li class="toctree-l1"><a class="reference internal" href="civis.html">Civis</a></li>
<li class="toctree-l1"><a class="reference internal" href="controlshift.html">Controlshift</a></li>
<li class="toctree-l1"><a class="reference internal" href="copper.html">Copper</a></li>
<li class="toctree-l1"><a class="reference internal" href="crowdtangle.html">CrowdTangle</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="donorbox.html">Donorbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="empower.html">Empower</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_ads.html">FacebookAds</a></li>
<li class="toctree-l1"><a class="reference internal" href="formstack.html">Formstack</a></li>
<li class="toctree-l1"><a class="reference internal" href="freshdesk.html">Freshdesk</a></li>
<li class="toctree-l1"><a class="reference internal" href="github.html">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="google.html">Google</a></li>
<li class="toctree-l1"><a class="reference internal" href="hustle.html">Hustle</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailchimp.html">Mailchimp</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilecommons.html">MobileCommons</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilize_america.html">Mobilize America</a></li>
<li class="toctree-l1"><a class="reference internal" href="nation_builder.html">NationBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="newmode.html">New/Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="ngpvan.html">NGPVAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2a.html">Phone2Action</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdi.html">PDI</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickbase.html">Quickbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickbooks.html">Quickbooks Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="redash.html">Redash</a></li>
<li class="toctree-l1"><a class="reference internal" href="rockthevote.html">Rock the Vote</a></li>
<li class="toctree-l1"><a class="reference internal" href="salesforce.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="scytl.html">Scytl</a></li>
<li class="toctree-l1"><a class="reference internal" href="sftp.html">SFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="shopify.html">Shopify</a></li>
<li class="toctree-l1"><a class="reference internal" href="sisense.html">Sisense</a></li>
<li class="toctree-l1"><a class="reference internal" href="targetsmart.html">TargetSmart</a></li>
<li class="toctree-l1"><a class="reference internal" href="turbovote.html">TurboVote</a></li>
<li class="toctree-l1"><a class="reference internal" href="twilio.html">Twilio</a></li>
<li class="toctree-l1"><a class="reference internal" href="zoom.html">Zoom</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Enhancements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="census_geocoder.html">US Census Geocoder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dbsync.html">Database Sync</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parsons Table</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#from-parsons-table">From Parsons Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#to-parsons-table">To Parsons Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsons-table-attributes">Parsons Table Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsons-table-transformations">Parsons Table Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parsons-table-indexing">Parsons Table Indexing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#petl">PETL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lazy-loading">Lazy Loading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-pipelines">Basic Pipelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#to-from-api">To &amp; From API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transformation-api">Transformation API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materialize-api">Materialize API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributor Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_a_connector.html">How to Build a Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="write_tests.html">How to Write Tests for Parsons Connectors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases and Sample Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use_cases/contribute_use_cases.html">How to Contribute a Use Case &amp; Sample Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases/civis_job_status_slack_alert.html">Civis Job Status Slack Alert</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases/mysql_to_googlesheets.html">MySQL to Google Sheets Export</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="training_guides/getting_set_up.html">Getting Set Up With Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_guides/etl_best_practices.html">Introduction to ETL Best Practices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Parsons</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Parsons Table</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/table.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parsons-table">
<span id="id1"></span><h1>Parsons Table<a class="headerlink" href="#parsons-table" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>Most methods and functions in Parsons return a <code class="docutils literal notranslate"><span class="pre">Table</span></code>, which is a 2D list-like object similar to a Pandas Dataframe. You can call the following methods on the Table object to output it into a variety of formats or storage types. A full list of <code class="docutils literal notranslate"><span class="pre">Table</span></code> methods can be found in the API section.</p>
<section id="from-parsons-table">
<h3>From Parsons Table<a class="headerlink" href="#from-parsons-table" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Destination Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_csv()</span></code></p></td>
<td><p>CSV File</p></td>
<td><p>Write a table to a local csv file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_s3_csv()</span></code></p></td>
<td><p>AWS s3 Bucket</p></td>
<td><p>Write a table to a csv stored in S3</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_gcs_csv()</span></code></p></td>
<td><p>Google Cloud Storage Bucket</p></td>
<td><p>Write a table to a csv stored in Google Cloud Storage</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_sftp_csv()</span></code></p></td>
<td><p>SFTP Server</p></td>
<td><p>Write a table to a csv stored on an SFTP server</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_redshift()</span></code></p></td>
<td><p>A Redshift Database</p></td>
<td><p>Write a table to a Redshift database</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_postgres()</span></code></p></td>
<td><p>A Postgres Database</p></td>
<td><p>Write a table to a Postgres database</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_civis()</span></code></p></td>
<td><p>Civis Redshift Database</p></td>
<td><p>Write a table to Civis platform database</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_petl()</span></code></p></td>
<td><p>Petl table object</p></td>
<td><p>Convert a table a Petl table object</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_json()</span></code></p></td>
<td><p>JSON file</p></td>
<td><p>Write a table to a local JSON file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_html()</span></code></p></td>
<td><p>HTML formatted table</p></td>
<td><p>Write a table to a local html file</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dataframe()</span></code></p></td>
<td><p>Pandas Dataframe <a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></td>
<td><p>Return a Pandas dataframe</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">append_csv()</span></code></p></td>
<td><p>CSV file</p></td>
<td><p>Appends table to an existing CSV</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_zip_csv()</span></code></p></td>
<td><p>ZIP file</p></td>
<td><p>Writes a table to a CSV in a zip archive</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dicts()</span></code></p></td>
<td><p>Dicts</p></td>
<td><p>Write a table as a list of dicts</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Requires optional installation of Pandas package by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span></code>.</p>
</aside>
</aside>
</section>
<section id="to-parsons-table">
<h3>To Parsons Table<a class="headerlink" href="#to-parsons-table" title="Link to this heading"></a></h3>
<p>Create Parsons Table object using the following methods.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 25.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Source Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_csv()</span></code></p></td>
<td><p>File like object, local path, url, ftp.</p></td>
<td><p>Loads a csv object into a Table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_json()</span></code></p></td>
<td><p>File like object, local path, url, ftp.</p></td>
<td><p>Loads a json object into a Table</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_columns()</span></code></p></td>
<td><p>List object</p></td>
<td><p>Loads lists organized as columns in Table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_redshift()</span></code></p></td>
<td><p>Redshift table</p></td>
<td><p>Loads a Redshift query into a Table</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_postgres()</span></code></p></td>
<td><p>Postgres table</p></td>
<td><p>Loads a Postgres query into a Table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_dataframe()</span></code></p></td>
<td><p>Pandas Dataframe <a class="footnote-reference brackets" href="#id5" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></td>
<td><p>Load a Parsons table from a Pandas Dataframe</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_s3_csv()</span></code></p></td>
<td><p>S3 CSV</p></td>
<td><p>Load a Parsons table from a csv file on S3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_csv_string()</span></code></p></td>
<td><p>File like object, local path, url, ftp.</p></td>
<td><p>Load a CSV string into a Table</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">2</a><span class="fn-bracket">]</span></span>
<p>Requires optional installation of Pandas package by running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span></code>.</p>
</aside>
</aside>
<p>You can also use the Table constructor to create a Table from a python list or petl table:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># From a list of dicts</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}])</span>

<span class="c1"># From a list of lists, the first list holding the field names</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>

<span class="c1"># From a petl table</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">petl_tbl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="parsons-table-attributes">
<h3>Parsons Table Attributes<a class="headerlink" href="#parsons-table-attributes" title="Link to this heading"></a></h3>
<p>Tables have a number of convenience attributes.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attribute</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.num_rows</span></code></p></td>
<td><p>The number of rows in the table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.columns</span></code></p></td>
<td><p>A list of column names in the table</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.data</span></code></p></td>
<td><p>The actual data (rows) of the table, as a list of tuples (without field names)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">.first</span></code></p></td>
<td><p>The first value in the table. Use for database queries where a single value is returned.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="parsons-table-transformations">
<h3>Parsons Table Transformations<a class="headerlink" href="#parsons-table-transformations" title="Link to this heading"></a></h3>
<p>Parsons tables have many methods that allow you to easily transform tables. Below is a selection
of commonly used methods. The full list can be found in the API section.</p>
<p><strong>Column Transformations</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 83.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">head()</span></code></p></td>
<td><p>Get the first n rows of a table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">tail()</span></code></p></td>
<td><p>Get the last n rows of a table</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_column()</span></code></p></td>
<td><p>Add a column</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_column()</span></code></p></td>
<td><p>Remove a column</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_column()</span></code></p></td>
<td><p>Rename a column</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">rename_columns()</span></code></p></td>
<td><p>Rename multiple columns</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">move_column()</span></code></p></td>
<td><p>Move a column within a table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">cut()</span></code></p></td>
<td><p>Return a table with a subset of columns</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_column()</span></code></p></td>
<td><p>Provide a fixed value to fill a column</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fillna_column()</span></code></p></td>
<td><p>Provide a fixed value to fill all null values in a column</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_column_types()</span></code></p></td>
<td><p>Get the python type of values for a given column</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_column()</span></code></p></td>
<td><p>Transform the values of a column via arbitrary functions</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">coalesce_columns()</span></code></p></td>
<td><p>Coalesce values from one or more source columns</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">map_columns()</span></code></p></td>
<td><p>Standardizes column names based on multiple possible values</p></td>
</tr>
</tbody>
</table>
<p><strong>Row Transformations</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_rows()</span></code></p></td>
<td><p>Return a table of a subset of rows based on filters</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">stack()</span></code></p></td>
<td><p>Stack a number of tables on top of one another</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">chunk()</span></code></p></td>
<td><p>Divide tables into smaller tables based on row count</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_null_rows()</span></code></p></td>
<td><p>Removes rows with null values in specified columns</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">deduplicate()</span></code></p></td>
<td><p>Removes duplicate rows based on optional key(s), and optionally sorts</p></td>
</tr>
</tbody>
</table>
<p><strong>Extraction and Reshaping</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">unpack_dict()</span></code></p></td>
<td><p>Unpack dictionary values from one column to top level columns</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">unpack_list()</span></code></p></td>
<td><p>Unpack list values from one column and add to top level columns</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">long_table()</span></code></p></td>
<td><p>Take a column with nested data and create a new long table</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">unpack_nested_columns_as_rows()</span></code></p></td>
<td><p>Unpack list or dict values from one column into separate rows</p></td>
</tr>
</tbody>
</table>
</section>
<section id="parsons-table-indexing">
<h3>Parsons Table Indexing<a class="headerlink" href="#parsons-table-indexing" title="Link to this heading"></a></h3>
<p>To access rows and columns of data within a Parsons table, you can index on them. To access a column
pass in the column name as a string (e.g. <code class="docutils literal notranslate"><span class="pre">tbl['a']</span></code>) and to access a row, pass in the row index as
an integer (e.g. <code class="docutils literal notranslate"><span class="pre">tbl[1]</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}])</span>

<span class="c1"># Return a column as a list</span>
<span class="n">tbl</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="o">&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="c1"># Return a row as a dict</span>
<span class="n">tbl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>
</div>
<p>A note on indexing and iterating over a table’s data:
If you need to iterate over the data, make sure to use the python iterator syntax, so any data transformations can be applied efficiently. An example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Some data transformations</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;newcol&#39;</span><span class="p">,</span> <span class="s1">&#39;some value&#39;</span><span class="p">)</span>

<span class="c1"># Efficient way to grab all the data (applying the data transformations only once)</span>
<span class="n">rows_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you must index directly into a table’s data, you can do so, but note that data transformations will be applied <strong>each time</strong> you do so. So this code will be very inefficient on a large table…</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Inefficient way to grab all the data</span>
<span class="n">rows_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">num_rows</span><span class="p">):</span>
  <span class="c1"># Data transformations will be applied each time through this loop!</span>
  <span class="n">rows_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="petl">
<h3>PETL<a class="headerlink" href="#petl" title="Link to this heading"></a></h3>
<p>The Parsons <code class="docutils literal notranslate"><span class="pre">Table</span></code> relies heavily on the <a class="reference external" href="https://petl.readthedocs.io/en/stable/index.html">petl</a>
Python package. You can always access the underlying petl table, <code class="docutils literal notranslate"><span class="pre">parsons.Table.table</span></code>, which will
allow you to perform any petl-supported ETL operations. Additionally, you can use the helper method,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">use_petl()</span></code>, to conveniently perform the same operations on a parsons
<code class="docutils literal notranslate"><span class="pre">Table</span></code>. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">petl</span>
<span class="o">...</span>

<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="n">petl</span><span class="o">.</span><span class="n">skipcomments</span><span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">table</span><span class="p">,</span> <span class="s1">&#39;#&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">use_petl</span><span class="p">(</span><span class="s1">&#39;skipcomments&#39;</span><span class="p">,</span> <span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="n">update_table</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="lazy-loading">
<h3>Lazy Loading<a class="headerlink" href="#lazy-loading" title="Link to this heading"></a></h3>
<p>The Parsons <code class="docutils literal notranslate"><span class="pre">Table</span></code> makes use of “lazy” loading and “lazy” transformations. What this means is that it tries not to load and process your data until absolutely necessary.</p>
<p>An example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify where to load the data</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="s1">&#39;name_data.csv&#39;</span><span class="p">)</span>

<span class="c1"># Specify data transformations</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s1">&#39;full_name&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;last_name&#39;</span><span class="p">])</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">remove_column</span><span class="p">([</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="s1">&#39;last_name&#39;</span><span class="p">])</span>

<span class="c1"># Save the table elsewhere</span>
<span class="c1"># IMPORTANT - The CSV won&#39;t actually be loaded and transformed until this step,</span>
<span class="c1"># since this is the first time it&#39;s actually needed.</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">to_redshift</span><span class="p">(</span><span class="s1">&#39;main.name_table&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This “lazy” loading can be very convenient and performant. However, it can make issues hard to debug. Eg. if your data transformations are time-consuming, you won’t actually notice that performance hit until you try to use the data, potentially much later in your code.
There may also be cases where it’s possible to get faster execution by caching a table,
especially in situations where a single table will be used as the base for several subsequent calculations.</p>
<p>For these cases Parsons provides two utility functions to materialize a Table and all of its transformations.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33.3%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">materialize()</span></code></p></td>
<td><p>Load all data from the Table into memory and apply any transformations</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">materialize_to_file()</span></code></p></td>
<td><p>Load all data from the Table and apply any transformations, then save to a local temp file.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<section id="basic-pipelines">
<h3>Basic Pipelines<a class="headerlink" href="#basic-pipelines" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># S3 to Civis</span>
<span class="n">s3</span> <span class="o">=</span> <span class="n">S3</span><span class="p">()</span>
<span class="n">csv</span> <span class="o">=</span> <span class="n">s3</span><span class="o">.</span><span class="n">get_file</span><span class="p">(</span><span class="s1">&#39;tmc-bucket&#39;</span><span class="p">,</span> <span class="s1">&#39;my_ids.csv&#39;</span><span class="p">)</span>
<span class="n">Table</span><span class="o">.</span><span class="n">from_csv</span><span class="p">(</span><span class="n">csv</span><span class="p">)</span><span class="o">.</span><span class="n">to_civis</span><span class="p">(</span><span class="s1">&#39;TMC&#39;</span><span class="p">,</span><span class="s1">&#39;ids.my_ids&#39;</span><span class="p">)</span>

<span class="c1">#VAN Activist Codes to a Dataframe</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span>
<span class="n">van</span><span class="o">.</span><span class="n">activist_codes</span><span class="p">()</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>

<span class="c1">#VAN Events to an s3 bucket</span>
<span class="n">van</span> <span class="o">=</span> <span class="n">VAN</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;MyVoters&#39;</span><span class="p">)</span>
<span class="n">van</span><span class="o">.</span><span class="n">events</span><span class="p">()</span><span class="o">.</span><span class="n">to_s3_csv</span><span class="p">(</span><span class="s1">&#39;my-van-bucket&#39;</span><span class="p">,</span><span class="s1">&#39;myevents.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="to-from-api">
<h2>To &amp; From API<a class="headerlink" href="#to-from-api" title="Link to this heading"></a></h2>
</section>
<section id="transformation-api">
<h2>Transformation API<a class="headerlink" href="#transformation-api" title="Link to this heading"></a></h2>
<p>The following methods allow you to manipulate the Parsons table data.</p>
</section>
<section id="materialize-api">
<h2>Materialize API<a class="headerlink" href="#materialize-api" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dbsync.html" class="btn btn-neutral float-left" title="Database Sync" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="notifications.html" class="btn btn-neutral float-right" title="Notifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The Movement Cooperative.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Most Common</dt>
        <!-- Show latest & stable first -->
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                  <dd><a href="table.html">latest</a></dd>
            
        
            
                  <dd><a href="../stable/table.html">stable</a></dd>
            
        

        <dt>By Version Number</dt>
        <!-- Show other versions -->
        
            
                  <dd><a href="../v0.14.0/table.html">v0.14.0</a></dd>
            
        
            
                  <dd><a href="../v0.15.0/table.html">v0.15.0</a></dd>
            
        
            
                  <dd><a href="../v0.16.0/table.html">v0.16.0</a></dd>
            
        
            
                  <dd><a href="../v0.17.0/table.html">v0.17.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.0/table.html">v0.18.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.1/table.html">v0.18.1</a></dd>
            
        
            
        
            
        

      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>