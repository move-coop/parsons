<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TargetSmart Developer API &mdash; Parsons  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Parsons
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="actblue.html">ActBlue</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_kit.html">ActionKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_builder.html">Action Builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_network.html">Action Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="airtable.html">Airtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="alchemer.html">Alchemer</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth0.html">Auth0</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.html">Azure: Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="bill_com.html">Bill.com</a></li>
<li class="toctree-l1"><a class="reference internal" href="bloomerang.html">Bloomerang</a></li>
<li class="toctree-l1"><a class="reference internal" href="box.html">Box</a></li>
<li class="toctree-l1"><a class="reference internal" href="braintree.html">Braintree</a></li>
<li class="toctree-l1"><a class="reference internal" href="capitolcanary.html">CapitolCanary</a></li>
<li class="toctree-l1"><a class="reference internal" href="census.html">Census</a></li>
<li class="toctree-l1"><a class="reference internal" href="civis.html">Civis</a></li>
<li class="toctree-l1"><a class="reference internal" href="controlshift.html">Controlshift</a></li>
<li class="toctree-l1"><a class="reference internal" href="copper.html">Copper</a></li>
<li class="toctree-l1"><a class="reference internal" href="crowdtangle.html">CrowdTangle</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="donorbox.html">Donorbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="empower.html">Empower</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_ads.html">FacebookAds</a></li>
<li class="toctree-l1"><a class="reference internal" href="formstack.html">Formstack</a></li>
<li class="toctree-l1"><a class="reference internal" href="freshdesk.html">Freshdesk</a></li>
<li class="toctree-l1"><a class="reference internal" href="github.html">GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="google.html">Google</a></li>
<li class="toctree-l1"><a class="reference internal" href="hustle.html">Hustle</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailchimp.html">Mailchimp</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilecommons.html">MobileCommons</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilize_america.html">Mobilize America</a></li>
<li class="toctree-l1"><a class="reference internal" href="nation_builder.html">NationBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="newmode.html">New/Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="ngpvan.html">NGPVAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2a.html">Phone2Action</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdi.html">PDI</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickbase.html">Quickbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="redash.html">Redash</a></li>
<li class="toctree-l1"><a class="reference internal" href="rockthevote.html">Rock the Vote</a></li>
<li class="toctree-l1"><a class="reference internal" href="salesforce.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="scytl.html">Scytl</a></li>
<li class="toctree-l1"><a class="reference internal" href="sftp.html">SFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="shopify.html">Shopify</a></li>
<li class="toctree-l1"><a class="reference internal" href="sisense.html">Sisense</a></li>
<li class="toctree-l1"><a class="reference internal" href="targetsmart.html">TargetSmart</a></li>
<li class="toctree-l1"><a class="reference internal" href="turbovote.html">TurboVote</a></li>
<li class="toctree-l1"><a class="reference internal" href="twilio.html">Twilio</a></li>
<li class="toctree-l1"><a class="reference internal" href="zoom.html">Zoom</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Enhancements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="census_geocoder.html">US Census Geocoder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dbsync.html">Database Sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Parsons Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributor Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_a_connector.html">How to Build a Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="write_tests.html">How to Write Tests for Parsons Connectors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases and Sample Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use_cases/contribute_use_cases.html">How to Contribute a Use Case &amp; Sample Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases/civis_job_status_slack_alert.html">Civis Job Status Slack Alert</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases/mysql_to_googlesheets.html">MySQL to Google Sheets Export</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="training_guides/getting_set_up.html">Getting Set Up With Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="training_guides/etl_best_practices.html">Introduction to ETL Best Practices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Parsons</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">TargetSmart Developer API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/targetsmart_api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="targetsmart-developer-api">
<h1>TargetSmart Developer API<a class="headerlink" href="#targetsmart-developer-api" title="Permalink to this heading"></a></h1>
<p><a class="reference external" href="https://targetsmart.com/">TargetSmart</a> provides access to voter and consumer data for the progressive community.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">TargetSmartAPI</span></code> class provides methods to consume the data services provided by the <a class="reference external" href="https://docs.targetsmart.com/developers/tsapis/v2/index.html">TargetSmart Developer API</a>. Parsons provides the following methods as convenient wrappers for interacting with the corresponding TargetSmart HTTP services:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data_enhance</span></code>: Quickly retrieve voter and consumer data enrichment fields from TargetSmart’s platform database for a previously identified individual.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius_search</span></code>: Search for individuals within a user specified geographic area defined by a radius centered around a latitude/longitude point.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phone</span></code>: Enrich a list of phone numbers with TargetSmart data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">district</span></code>: Retrieve political district data using one of several lookup options</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">voter_registration_check</span></code>: Search TargetSmart’s service database of registered voters, to check if a voter is registered at a given address.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smartmatch</span></code>: Match CSV file records to TargetSmart’s service database of voting age individuals. Multiple matching strategies are applied to find accurate matches and return enriched data. Read more about <a class="reference external" href="https://docs.targetsmart.com/my_tsmart/smartmatch/overview.html">SmartMatch</a>, TargetSmart’s list matching solution.</p></li>
</ul>
<p>Some TargetSmart API services have not yet been implemented in Parsons. For more information, see the <a class="reference external" href="https://docs.targetsmart.com/developers/tsapis/v2/index.html">API documentation</a>.</p>
<section id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading"></a></h3>
<p>Log in to <a class="reference external" href="https://my.targetsmart.com/">My TargetSmart</a> to access authentication credentials. You will need an API key to use the <code class="docutils literal notranslate"><span class="pre">TargetSmartAPI</span></code> class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>Endpoint Access</dt><dd><p>Access to endpoints is individually provisioned. If you encounter errors accessing an endpoint, please contact <a class="reference external" href="mailto:support&#37;&#52;&#48;targetsmart&#46;com">TargetSmart Client Services</a> to verify that your API key has been provisioned access.</p>
</dd>
</dl>
</div>
</section>
<section id="data-enrichment">
<h3>Data Enrichment<a class="headerlink" href="#data-enrichment" title="Permalink to this heading"></a></h3>
<p>Most TargetSmart API services append a set of enrichment data fields as part of
a matching or search request. The presence of these fields are provisioned by
the TargetSmart Client Services team. Please contact <a class="reference external" href="mailto:support&#37;&#52;&#48;targetsmart&#46;com">TargetSmart Client
Services</a> to learn more or request
adjustments.</p>
</section>
</section>
</section>
<section id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this heading"></a></h1>
<p>To instantiate <code class="docutils literal notranslate"><span class="pre">TargetSmartAPI</span></code>, you can either store your API Key as the environmental variable
<code class="docutils literal notranslate"><span class="pre">TS_API_KEY</span></code>, or pass it in as an argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">parsons</span> <span class="kn">import</span> <span class="n">TargetSmartAPI</span>

<span class="c1"># First approach: Store API key as an environmental variable</span>
<span class="n">ts_api</span> <span class="o">=</span> <span class="n">TargetSmartAPI</span><span class="p">()</span>

<span class="c1"># Second approach: Pass API key as an argument</span>
<span class="n">ts_api</span> <span class="o">=</span> <span class="n">TargetSmartAPI</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;my_api_key&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then call various methods that correspond to TargetSmart endpoints:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Search for a person record using an email address</span>
<span class="n">ts_api</span><span class="o">.</span><span class="n">data_enhance</span><span class="p">(</span><span class="n">search_id</span><span class="o">=</span><span class="s1">&#39;test@email.com&#39;</span><span class="p">,</span> <span class="n">search_id_type</span><span class="o">=</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>

<span class="c1"># Search for district information using an address</span>
<span class="n">ts_api</span><span class="o">.</span><span class="n">district</span><span class="p">(</span><span class="n">search_type</span><span class="o">=</span><span class="s1">&#39;address&#39;</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="s1">&#39;123 test st, Durham NC 27708&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.</span></span><span class="sig-name descname"><span class="pre">TargetSmartAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/targetsmart/targetsmart_api.html#TargetSmartAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.TargetSmartAPI" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI.data_enhance">
<span class="sig-name descname"><span class="pre">data_enhance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_id_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'voterbase'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parsons.TargetSmartAPI.data_enhance" title="Permalink to this definition"></a></dt>
<dd><p>Searches for a record based on an id or phone or email address</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>search_id: str</dt><dd><p>The primary key or email address or phone number</p>
</dd>
<dt>search_id_type: str</dt><dd><p>One of <code class="docutils literal notranslate"><span class="pre">voterbase</span></code>, <code class="docutils literal notranslate"><span class="pre">exacttrack</span></code>, <code class="docutils literal notranslate"><span class="pre">phone</span></code>,
<code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">smartvan</span></code>, <code class="docutils literal notranslate"><span class="pre">votebuilder</span></code>, <code class="docutils literal notranslate"><span class="pre">voter</span></code>, <code class="docutils literal notranslate"><span class="pre">household</span></code>.</p>
</dd>
<dt>state: str</dt><dd><p>Two character state code. Required if <code class="docutils literal notranslate"><span class="pre">search_id_type</span></code> of <code class="docutils literal notranslate"><span class="pre">smartvan</span></code>,
<code class="docutils literal notranslate"><span class="pre">votebuilder</span></code> or <code class="docutils literal notranslate"><span class="pre">voter</span></code>.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI.district">
<span class="sig-name descname"><span class="pre">district</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip4</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parsons.TargetSmartAPI.district" title="Permalink to this definition"></a></dt>
<dd><p>Return district information based on a geographic point. The method allows you to
search based on the following:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Search Type</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">search_type</span></code></p></th>
<th class="head"><p>Required kwarg(s)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Zip Code</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">zip</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">zip5</span></code>, <code class="docutils literal notranslate"><span class="pre">zip4</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Address</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">address</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">address</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Point</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">point</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">longitude</span></code></p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt><cite>Args</cite>:</dt><dd><dl class="simple">
<dt>search_type: str</dt><dd><p>The type of district search to perform. One of <code class="docutils literal notranslate"><span class="pre">zip</span></code>, <code class="docutils literal notranslate"><span class="pre">address</span></code>
or <code class="docutils literal notranslate"><span class="pre">point</span></code>.</p>
</dd>
<dt>address: str</dt><dd><p>An uparsed full address</p>
</dd>
<dt>zip5: str</dt><dd><p>The USPS Zip5 code</p>
</dd>
<dt>zip4: str</dt><dd><p>The USPS Zip4 code</p>
</dd>
<dt>state: str</dt><dd><p>The two character state code</p>
</dd>
<dt>latitude: float or str</dt><dd><p>Valid latitude floating point</p>
</dd>
<dt>longitude: float or str</dt><dd><p>Valid longitude floating point</p>
</dd>
</dl>
</dd>
<dt><cite>Returns</cite>:</dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI.phone">
<span class="sig-name descname"><span class="pre">phone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parsons.TargetSmartAPI.phone" title="Permalink to this definition"></a></dt>
<dd><p>Match based on a list of 500 phones numbers. Table
can contain up to 500 phone numbers to match</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>table: parsons table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a>. One row per phone number,
up to 500 phone numbers.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI.radius_search">
<span class="sig-name descname"><span class="pre">radius_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">middle_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'miles'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'a'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composite_score_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composite_score_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name_exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name_is_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name_prefix_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reg'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parsons.TargetSmartAPI.radius_search" title="Permalink to this definition"></a></dt>
<dd><p>Search for a person based on a specified radius</p>
<dl class="simple">
<dt><cite>Args</cite>:</dt><dd><dl class="simple">
<dt>first_name: str</dt><dd><p>One or more alpha characters. Required</p>
</dd>
<dt>last_name: str</dt><dd><p>One or more alpha characters. Required</p>
</dd>
<dt>middle_name: str</dt><dd><p>One or more alpha characters</p>
</dd>
<dt>name_suffix: str</dt><dd><p>One or more alpha characters</p>
</dd>
<dt>latitude: float</dt><dd><p>Floating point number (e.g. 33.738987255507)</p>
</dd>
<dt>longitude: float</dt><dd><p>Floating point number (e.g. -116.40833849559)</p>
</dd>
<dt>address: str</dt><dd><p>Any geocode-able address</p>
</dd>
<dt>address_type: str</dt><dd><p><code class="docutils literal notranslate"><span class="pre">reg</span></code> for registration (default) or <code class="docutils literal notranslate"><span class="pre">tsmart</span></code> for TargetSmart</p>
</dd>
<dt>radius_size: int</dt><dd><p>A positive integer where combined with <code class="docutils literal notranslate"><span class="pre">radius_unit</span></code> does not exceed 120 miles</p>
</dd>
<dt>radius_unit: str</dt><dd><p>One of <code class="docutils literal notranslate"><span class="pre">meters</span></code>, <code class="docutils literal notranslate"><span class="pre">feet</span></code>, <code class="docutils literal notranslate"><span class="pre">miles</span></code> (default), or <code class="docutils literal notranslate"><span class="pre">kilometers</span></code>.</p>
</dd>
<dt>max_results: int</dt><dd><p>Default of <code class="docutils literal notranslate"><span class="pre">10</span></code>. An integer in range [0 - 100]</p>
</dd>
<dt>gender: str</dt><dd><p>Default of <code class="docutils literal notranslate"><span class="pre">a</span></code>. One of <code class="docutils literal notranslate"><span class="pre">m</span></code>, <code class="docutils literal notranslate"><span class="pre">f</span></code>, <code class="docutils literal notranslate"><span class="pre">u</span></code>, <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
</dd>
<dt>age_min: int</dt><dd><p>A positive integer</p>
</dd>
<dt>age_max: int</dt><dd><p>A positive integer</p>
</dd>
<dt>composite_score_min: int</dt><dd><p>An integer in range [1 - 100]. Filter out results with composite score
less than this value.</p>
</dd>
<dt>composite_score_max: int</dt><dd><p>An integer in range [1 - 100]. Filter out results with composite score
greater than this value.</p>
</dd>
<dt>last_name_exact: boolean</dt><dd><p>By default, the full last name is used for finding matches if the length of the
last name is not longer than 10 characters. As an example, “anders” is less likely
to match to “anderson” with this enabled. Disable this option if you are using
either <code class="docutils literal notranslate"><span class="pre">last_name_is_prefix</span></code> or <code class="docutils literal notranslate"><span class="pre">last_name_prefix_length</span></code>.</p>
</dd>
<dt>last_name_is_prefix: boolean</dt><dd><p>By default, the full last name is used for finding matches. Enable this parameter
if your search last name is truncated. This can be common for some client
applications that for various reasons do not have full last names. Use this
parameter along with <code class="docutils literal notranslate"><span class="pre">last_name_prefix_length</span></code> to configure the length of the last
name prefix. This parameter is ignored if <code class="docutils literal notranslate"><span class="pre">last_name_exact</span></code> is enabled.</p>
</dd>
<dt>last_name_prefix_length: int</dt><dd><p>By default, up to the first 10 characters of the search last name are used for
finding relative matches. This value must be between 3 and 10. This parameter is
ignored if last_name_exact is enabled.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI.smartmatch">
<span class="sig-name descname"><span class="pre">smartmatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_matches</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_landline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_wireless</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_voip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_smartmatch_input_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_smartmatch_output_gz_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parsons.TargetSmartAPI.smartmatch" title="Permalink to this definition"></a></dt>
<dd><p>Submit the contact list records available in the Parsons table <code class="docutils literal notranslate"><span class="pre">input_table</span></code> to
TargetSmart SmartMatch.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.targetsmart.com/my_tsmart/smartmatch/overview.html">SmartMatch overview</a></p></li>
<li><p><a class="reference external" href="https://docs.targetsmart.com/developers/tsapis/v2/service/smartmatch.html">SmartMatch API doc</a></p></li>
<li><p><a class="reference external" href="https://docs.targetsmart.com/developers/tsapis/v2/service/smartmatch.html#supported-field-identifiers">Supported input header field identifiers</a></p></li>
</ul>
<p>Your application provides a contact list which will be matched to
TargetSmart’s database of voting age individuals.</p>
<p><a class="reference external" href="mailto:support&#37;&#52;&#48;targetsmart&#46;com">TargetSmart Client Services</a>
provisions SmartMatch for your API key, configuring the fields from the
TargetSmart Data Dictionary that will be appended to each matched
record.</p>
<p>This method blocks until TargetSmart has completed the remote workflow
execution. The execution time can take minutes to hours to complete
depending on the file size, the types of field identifiers present, and
TargetSmart system load. SmartMatch executions cannot be canceled once
submitted to TargetSmart.</p>
<p>Since Parsons Petl tables are lazy, the SmartMatch output file is always
retained in <code class="docutils literal notranslate"><span class="pre">tmp_location</span></code>. If your Parsons-based ETL workflow fails
downstream it may be beneficial to recover the raw SmartMatch output
from this location. You may delete this data when it is no longer
needed.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>input_table: Parsons or Petl table</dt><dd><p>A Parsons table with <a class="reference external" href="https://docs.targetsmart.com/developers/tsapis/v2/service/smartmatch.html#supported-field-identifiers">header field names supported by SmartMatch</a>. Required.</p>
</dd>
<dt>max_matches: int</dt><dd><p>By default only a single best match is returned for an input record. Increase to return additional potentially accurate matches for each input record. Value between 1-10. Default of 1.</p>
</dd>
<dt>include_email: bool</dt><dd><p>Set to True to include appended email values for matched records. This is only applicable if your TargetSmart account is configued to return email data. Additional charges may apply if True. Default of False.</p>
</dd>
<dt>include_landline: bool</dt><dd><p>Set to True to include appended landline phone number values for matched records. This is only applicable if your TargetSmart account is configued to return landline phone data. Additional charges may apply if True. Default of False.</p>
</dd>
<dt>include_wireless: bool</dt><dd><p>Set to True to include appended wireless phone number values for matched records. This is only applicable if your TargetSmart account is configued to return wireless phone data. Additional charges may apply if True. Default of False.</p>
</dd>
<dt>include_voip: bool</dt><dd><p>Set to True to include appended VOIP phone number values for matched records. This is only applicable if your TargetSmart account is configued to return VOIP phone data. Additional charges may apply if True. Default of False.</p>
</dd>
<dt>tmp_location: str</dt><dd><p>Optionally provide a local directory path where input/output CSV files will be stored. Useful to recover CSV output if downstream ETL processing fails. If not specified, a system tmp location is used. Default of None.</p>
</dd>
<dt>keep_smartmatch_input_file: bool</dt><dd><p>Optionally keep the CSV input file that is uploaded in <code class="docutils literal notranslate"><span class="pre">tmp_location</span></code> for later use. Default of False.</p>
</dd>
<dt>keep_smartmatch_output_gz_file: bool</dt><dd><p>Optionally keep the gzip compressed output file in <code class="docutils literal notranslate"><span class="pre">tmp_location</span></code> for later use. The uncompressed output file is always retained in <code class="docutils literal notranslate"><span class="pre">tmp_location</span></code>. Default of False</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>A Parsons table wrapping the SmartMatch execution output file records. Each record will
include the input record fields followed by columns named <code class="docutils literal notranslate"><span class="pre">tsmart_match_code</span></code>, a
match indicator, <code class="docutils literal notranslate"><span class="pre">vb.voterbase_id</span></code>, and zero or more additional data
element fields based on your TargetSmart account configuration.
See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.TargetSmartAPI.voter_registration_check">
<span class="sig-name descname"><span class="pre">voter_registration_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">street_number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">street_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">city</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unparsed_full_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#parsons.TargetSmartAPI.voter_registration_check" title="Permalink to this definition"></a></dt>
<dd><p>Searches for a registered individual, returns matches.</p>
<p>A search must include the at minimum first name, last name and state.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>first_name: str</dt><dd><p>Required; One or more alpha characters. Trailing wildcard allowed</p>
</dd>
<dt>last_name: str</dt><dd><p>Required; One or more alpha characters. Trailing wildcard allowed</p>
</dd>
<dt>state: str</dt><dd><p>Required; Two character state code (e.g. <code class="docutils literal notranslate"><span class="pre">NY</span></code>)</p>
</dd>
<dt>street_number: str</dt><dd><p>Optional; One or more alpha characters. Trailing wildcard allowed</p>
</dd>
<dt>street_name: str</dt><dd><p>Optional; One or more alpha characters. Trailing wildcard allowed</p>
</dd>
<dt>city: str</dt><dd><p>Optional; The person’s home city</p>
</dd>
<dt>zip_code: str</dt><dd><p>Optional; Numeric characters. Trailing wildcard allowed</p>
</dd>
<dt>age; int</dt><dd><p>Optional; One or more integers. Trailing wildcard allowed</p>
</dd>
<dt>dob; str</dt><dd><p>Optional; Numeric characters in YYYYMMDD format. Trailing wildcard allowed</p>
</dd>
<dt>phone; str</dt><dd><p>Optional; Integer followed by 0 or more * or integers</p>
</dd>
<dt>email: str</dt><dd><p>Optional; Alphanumeric character followed by 0 or more * or legal characters
(alphanumeric, &#64;, -, .)</p>
</dd>
<dt>unparsed_full_address: str</dt><dd><p>Optional; One or more alphanumeric characters. No wildcards.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, The Movement Cooperative.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Most Common</dt>
        <!-- Show latest & stable first -->
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                  <dd><a href="targetsmart_api.html">latest</a></dd>
            
        
            
                  <dd><a href="../stable/targetsmart_api.html">stable</a></dd>
            
        

        <dt>By Version Number</dt>
        <!-- Show other versions -->
        
            
                  <dd><a href="../v0.14.0/index.html">v0.14.0</a></dd>
            
        
            
                  <dd><a href="../v0.15.0/index.html">v0.15.0</a></dd>
            
        
            
                  <dd><a href="../v0.16.0/index.html">v0.16.0</a></dd>
            
        
            
                  <dd><a href="../v0.17.0/index.html">v0.17.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.0/index.html">v0.18.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.1/index.html">v0.18.1</a></dd>
            
        
            
        
            
        

      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>