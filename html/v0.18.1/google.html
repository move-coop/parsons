

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Google &mdash; Parsons 0.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=7ab3649f" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=db78e746"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hustle" href="hustle.html" />
    <link rel="prev" title="GitHub" href="github.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Parsons
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Integrations</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="actblue.html">ActBlue</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_kit.html">ActionKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_network.html">Action Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="airtable.html">Airtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="alchemer.html">Alchemer</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.html">Azure: Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="bill_com.html">Bill.com</a></li>
<li class="toctree-l1"><a class="reference internal" href="bloomerang.html">Bloomerang</a></li>
<li class="toctree-l1"><a class="reference internal" href="bluelink.html">Bluelink</a></li>
<li class="toctree-l1"><a class="reference internal" href="box.html">Box</a></li>
<li class="toctree-l1"><a class="reference internal" href="braintree.html">Braintree</a></li>
<li class="toctree-l1"><a class="reference internal" href="civis.html">Civis</a></li>
<li class="toctree-l1"><a class="reference internal" href="controlshift.html">Controlshift</a></li>
<li class="toctree-l1"><a class="reference internal" href="copper.html">Copper</a></li>
<li class="toctree-l1"><a class="reference internal" href="crowdtangle.html">CrowdTangle</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook_ads.html">FacebookAds</a></li>
<li class="toctree-l1"><a class="reference internal" href="freshdesk.html">Freshdesk</a></li>
<li class="toctree-l1"><a class="reference internal" href="github.html">GitHub</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Google</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#bigquery">BigQuery</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quickstart">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.google.google_bigquery.GoogleBigQuery"><code class="docutils literal notranslate"><span class="pre">GoogleBigQuery</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cloud-storage">Cloud Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.google.google_cloud_storage.GoogleCloudStorage"><code class="docutils literal notranslate"><span class="pre">GoogleCloudStorage</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#civic">Civic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.google.google_civic.GoogleCivic"><code class="docutils literal notranslate"><span class="pre">GoogleCivic</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#google-sheets">Google Sheets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Quickstart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parsons.google.google_sheets.GoogleSheets"><code class="docutils literal notranslate"><span class="pre">GoogleSheets</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hustle.html">Hustle</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailchimp.html">Mailchimp</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobilize_america.html">Mobilize America</a></li>
<li class="toctree-l1"><a class="reference internal" href="newmode.html">New/Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="ngpvan.html">NGPVAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdi.html">PDI</a></li>
<li class="toctree-l1"><a class="reference internal" href="p2a.html">Phone2Action</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickbase.html">Quickbase</a></li>
<li class="toctree-l1"><a class="reference internal" href="redash.html">Redash</a></li>
<li class="toctree-l1"><a class="reference internal" href="rockthevote.html">Rock the Vote</a></li>
<li class="toctree-l1"><a class="reference internal" href="salesforce.html">Salesforce</a></li>
<li class="toctree-l1"><a class="reference internal" href="sftp.html">SFTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="shopify.html">Shopify</a></li>
<li class="toctree-l1"><a class="reference internal" href="sisense.html">Sisense</a></li>
<li class="toctree-l1"><a class="reference internal" href="targetsmart.html">TargetSmart</a></li>
<li class="toctree-l1"><a class="reference internal" href="turbovote.html">TurboVote</a></li>
<li class="toctree-l1"><a class="reference internal" href="twilio.html">Twilio</a></li>
<li class="toctree-l1"><a class="reference internal" href="zoom.html">Zoom</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Enhancements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="census_geocoder.html">US Census Geocoder</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Framework</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dbsync.html">Database Sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Parsons Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributor Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Parsons</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_a_connector.html">How to Build a Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="write_tests.html">How to Write Tests for Parsons Connectors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases and Sample Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="use_cases/contribute_use_cases.html">How to Contribute a Use Case &amp; Sample Script</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Parsons</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Google</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/google.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="google">
<h1>Google<a class="headerlink" href="#google" title="Link to this heading"></a></h1>
<p>Google Cloud services allow you to upload and manipulate Tables as spreadsheets (via GoogleSheets) or query them as SQL database tables (via GoogleBigQuery). You can also upload/store/download them as binary objects (via GoogleCloudStorage). Finally, Google offers an API for civic information using GoogleCivic.</p>
<p>For all of these services you will need to enable the APIs for your Google Cloud account and obtain authentication tokens to access them from your scripts. If you are the administrator of your Google Cloud account, you can do both of these at <a class="reference external" href="https://console.cloud.google.com/apis/credentials/serviceaccountkey?_ga=2.116342342.-1334320118.1565013288">Google Cloud Console APIs and Services</a>.</p>
<section id="bigquery">
<span id="gbq"></span><h2>BigQuery<a class="headerlink" href="#bigquery" title="Link to this heading"></a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h3>
<p>Google BigQuery is a cloud data warehouse solution. Data is stored in tables, and users can query using SQL.
BigQuery uses datasets as top level containers for tables, and datasets are themselves contained within
Google Cloud projects.</p>
</section>
<section id="quickstart">
<h3>Quickstart<a class="headerlink" href="#quickstart" title="Link to this heading"></a></h3>
<p>To instantiate the GoogleBigQuery class, you can pass the constructor a string containing either the name of the Google service account credentials file or a JSON string encoding those credentials. Alternatively, you can set the environment variable <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> to be either of those strings and call the constructor without that argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">parsons</span><span class="w"> </span><span class="kn">import</span> <span class="n">GoogleBigQuery</span>

<span class="c1"># Set as environment variable so we don&#39;t have to pass it in. May either</span>
<span class="c1"># be the file name or a JSON encoding of the credentials.</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;GOOGLE_APPLICATION_CREDENTIALS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;google_credentials_file.json&#39;</span>

<span class="n">big_query</span> <span class="o">=</span> <span class="n">GoogleBigQuery</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively, you can pass the credentials in as an argument. In the example below, we also specify the project.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Project in which we&#39;re working</span>
<span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;parsons-test&#39;</span>
<span class="n">big_query</span> <span class="o">=</span> <span class="n">GoogleBigQuery</span><span class="p">(</span><span class="n">app_creds</span><span class="o">=</span><span class="s1">&#39;google_credentials_file.json&#39;</span><span class="p">,</span>
                           <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">)</span>
</pre></div>
</div>
<p>We can now upload/query data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span> <span class="o">=</span> <span class="s1">&#39;parsons_dataset&#39;</span>
<span class="n">table</span> <span class="o">=</span> <span class="s1">&#39;parsons_table&#39;</span>

<span class="c1"># Table name should be project.dataset.table, or dataset.table, if</span>
<span class="c1"># working with the default project</span>
<span class="n">table_name</span> <span class="o">=</span> <span class="n">project</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">dataset</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="n">table</span>

<span class="c1"># Must be pre-existing bucket. Create via GoogleCloudStorage() or</span>
<span class="c1"># at https://console.cloud.google.com/storage/create-bucket. May be</span>
<span class="c1"># omitted if the name of the bucket is specified in environment</span>
<span class="c1"># variable GCS_TEMP_BUCKET.</span>
<span class="n">gcs_temp_bucket</span> <span class="o">=</span> <span class="s1">&#39;parsons_bucket&#39;</span>

<span class="c1"># Create dataset if it doesn&#39;t already exist</span>
<span class="n">big_query</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">create_dataset</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="n">dataset</span><span class="p">,</span> <span class="n">exists_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">parsons_table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">([{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">:</span><span class="s1">&#39;D&#39;</span><span class="p">},</span>
                       <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Jane&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">:</span><span class="s1">&#39;D&#39;</span><span class="p">},</span>
                       <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Sue&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">:</span><span class="s1">&#39;R&#39;</span><span class="p">},</span>
                       <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Bill&#39;</span><span class="p">,</span> <span class="s1">&#39;party&#39;</span><span class="p">:</span><span class="s1">&#39;I&#39;</span><span class="p">}])</span>

<span class="c1"># Copy table in to create new BigQuery table</span>
<span class="n">big_query</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">table_obj</span><span class="o">=</span><span class="n">parsons_table</span><span class="p">,</span>
               <span class="n">table_name</span><span class="o">=</span><span class="n">table_name</span><span class="p">,</span>
               <span class="n">tmp_gcs_bucket</span><span class="o">=</span><span class="n">gcs_temp_bucket</span><span class="p">)</span>

<span class="c1"># Select from project.dataset.table</span>
<span class="n">big_query</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;select name from </span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s1"> where party = &quot;D&quot;&#39;</span><span class="p">)</span>

<span class="c1"># Delete the table when we&#39;re done</span>
<span class="n">big_query</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_table</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table_name</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="api">
<h3>API<a class="headerlink" href="#api" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.google.google_bigquery.GoogleBigQuery">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.google.google_bigquery.</span></span><span class="sig-name descname"><span class="pre">GoogleBigQuery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app_creds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_bigquery.html#GoogleBigQuery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_bigquery.GoogleBigQuery" title="Link to this definition"></a></dt>
<dd><p>Class for querying BigQuery table and returning the data as Parsons tables.</p>
<p>This class requires application credentials in the form of a json. It can be passed
in the following ways:</p>
<ul>
<li><p>Set an environmental variable named <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> with the
local path to the credentials json.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTALS='path/to/creds.json'</span></code></p>
</li>
<li><p>Pass in the path to the credentials using the <code class="docutils literal notranslate"><span class="pre">app_creds</span></code> argument.</p></li>
<li><p>Pass in a json string using the <code class="docutils literal notranslate"><span class="pre">app_creds</span></code> argument.</p></li>
</ul>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>app_creds: str</dt><dd><p>A credentials json string or a path to a json file. Not required
if <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> env variable set.</p>
</dd>
<dt>project: str</dt><dd><p>The project which the client is acting on behalf of. If not passed
then will use the default inferred environment.</p>
</dd>
<dt>location: str</dt><dd><p>Default geographic location for tables</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_bigquery.GoogleBigQuery.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fail'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_gcs_bucket</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gcs_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">load_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_bigquery.html#GoogleBigQuery.copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_bigquery.GoogleBigQuery.copy" title="Link to this definition"></a></dt>
<dd><p>Copy a <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> into Google BigQuery via Google Cloud Storage.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>table_obj: obj</dt><dd><p>The Parsons Table to copy into BigQuery.</p>
</dd>
<dt>table_name: str</dt><dd><p>The table name to load the data into.</p>
</dd>
<dt>if_exists: str</dt><dd><p>If the table already exists, either <code class="docutils literal notranslate"><span class="pre">fail</span></code>, <code class="docutils literal notranslate"><span class="pre">append</span></code>, <code class="docutils literal notranslate"><span class="pre">drop</span></code>
or <code class="docutils literal notranslate"><span class="pre">truncate</span></code> the table.</p>
</dd>
<dt>tmp_gcs_bucket: str</dt><dd><p>The name of the Google Cloud Storage bucket to use to stage the data to load
into BigQuery. Required if <cite>GCS_TEMP_BUCKET</cite> is not specified.</p>
</dd>
<dt>gcs_client: object</dt><dd><p>The GoogleCloudStorage Connector to use for loading data into Google Cloud Storage.</p>
</dd>
<dt>job_config: object</dt><dd><p>A LoadJobConfig object to provide to the underlying call to load_table_from_uri
on the BigQuery client. The function will create its own if not provided.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>load_kwargs: kwargs</dt><dd><p>Arguments to pass to the underlying load_table_from_uri call on the BigQuery
client.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_bigquery.GoogleBigQuery.delete_table">
<span class="sig-name descname"><span class="pre">delete_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_bigquery.html#GoogleBigQuery.delete_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_bigquery.GoogleBigQuery.delete_table" title="Link to this definition"></a></dt>
<dd><p>Delete a BigQuery table.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>table_name: str</dt><dd><p>The name of the table to delete.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_bigquery.GoogleBigQuery.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_bigquery.html#GoogleBigQuery.query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_bigquery.GoogleBigQuery.query" title="Link to this definition"></a></dt>
<dd><p>Run a BigQuery query and return the results as a Parsons table.</p>
<p>To include python variables in your query, it is recommended to pass them as parameters,
following the BigQuery style where parameters are prefixed with <cite>&#64;`s.
Using the ``parameters`</cite> argument ensures that values are escaped properly, and avoids SQL
injection attacks.</p>
<p><strong>Parameter Examples</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Beatrice O&#39;Brady&quot;</span>
<span class="n">sql</span> <span class="o">=</span> <span class="s1">&#39;SELECT * FROM my_table WHERE name = </span><span class="si">%s</span><span class="s1">&#39;</span>
<span class="n">rs</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Beatrice O&#39;Brady&quot;</span>
<span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM my_table WHERE name = </span><span class="si">%(name)s</span><span class="s2">&quot;</span>
<span class="n">rs</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">})</span>
</pre></div>
</div>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>sql: str</dt><dd><p>A valid BigTable statement</p>
</dd>
<dt>parameters: dict</dt><dd><p>A dictionary of query parameters for BigQuery.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_bigquery.GoogleBigQuery.table_exists">
<span class="sig-name descname"><span class="pre">table_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_bigquery.html#GoogleBigQuery.table_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_bigquery.GoogleBigQuery.table_exists" title="Link to this definition"></a></dt>
<dd><p>Check whether or not the Google BigQuery table exists in the specified dataset.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>table_name: str</dt><dd><p>The name of the BigQuery table to check for</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>bool</dt><dd><p>True if the table exists in the specified dataset, false otherwise</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="parsons.google.google_bigquery.GoogleBigQuery.client">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">client</span></span><a class="headerlink" href="#parsons.google.google_bigquery.GoogleBigQuery.client" title="Link to this definition"></a></dt>
<dd><p>Get the Google BigQuery client to use for making queries.</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><p><cite>google.cloud.bigquery.client.Client</cite></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<p></p>
</section>
<section id="cloud-storage">
<h2>Cloud Storage<a class="headerlink" href="#cloud-storage" title="Link to this heading"></a></h2>
<section id="id3">
<h3>Overview<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<p>Google Cloud Storage is a cloud file storage system. It uses buckets in which to
store arbitrary files referred to as blobs. You may use this connector to upload Parsons tables as blobs, download them to files, and list available blobs.</p>
<p>To use the GoogleCloudStorage class, you will need Google service account credentials. If you are the administrator of your Google Cloud account, you can generate them in the <a class="reference external" href="https://console.cloud.google.com/apis/credentials/serviceaccountkey?_ga=2.116342342.-1334320118.1565013288">Google Cloud Console APIs and Services</a>.</p>
</section>
<section id="id5">
<h3>Quickstart<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<p>To instantiate the GoogleBigQuery class, you can pass the constructor a string containing either the name of your Google service account credentials file or a JSON string encoding those credentials. Alternatively, you can set the environment variable <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> to be either of those strings and call the constructor without that argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">parsons</span><span class="w"> </span><span class="kn">import</span> <span class="n">GoogleCloudStorage</span>

<span class="c1"># Set as environment variable so we don&#39;t have to pass it in. May either</span>
<span class="c1"># be the file name or a JSON encoding of the credentials.</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;GOOGLE_APPLICATION_CREDENTIALS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;google_credentials_file.json&#39;</span>

<span class="n">gcs</span> <span class="o">=</span> <span class="n">GoogleCloudStorage</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively, you can pass the credentials in as an argument. In the example below, we also specify the project.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">credentials_filename</span> <span class="o">=</span> <span class="s1">&#39;google_credentials_file.json&#39;</span>
<span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;parsons-test&#39;</span>    <span class="c1"># Project in which we&#39;re working</span>
<span class="n">gcs</span> <span class="o">=</span> <span class="n">GoogleCloudStorage</span><span class="p">(</span><span class="n">app_creds</span><span class="o">=</span><span class="n">credentials_filename</span><span class="p">,</span> <span class="n">project</span><span class="o">=</span><span class="n">project</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can create buckets, upload blobs to them and and list/retrieve
the available blobs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">gcs</span><span class="o">.</span><span class="n">create_bucket</span><span class="p">(</span><span class="s1">&#39;parsons_bucket&#39;</span><span class="p">)</span>
<span class="n">gcs</span><span class="o">.</span><span class="n">list_buckets</span><span class="p">()</span>

<span class="n">gcs</span><span class="o">.</span><span class="n">upload_table</span><span class="p">(</span><span class="n">bucket</span><span class="o">=</span><span class="s1">&#39;parsons_bucket&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="n">parsons_table</span><span class="p">,</span> <span class="n">blob_name</span><span class="o">=</span><span class="s1">&#39;parsons_blob&#39;</span><span class="p">)</span>
<span class="n">gcs</span><span class="o">.</span><span class="n">get_blob</span><span class="p">(</span><span class="n">bucket_name</span><span class="o">=</span><span class="s1">&#39;parsons_bucket&#39;</span><span class="p">,</span> <span class="n">blob_name</span><span class="o">=</span><span class="s1">&#39;parsons_blob&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3>API<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.google.google_cloud_storage.</span></span><span class="sig-name descname"><span class="pre">GoogleCloudStorage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app_creds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage" title="Link to this definition"></a></dt>
<dd><p>This class requires application credentials in the form of a json. It can be passed
in the following ways:</p>
<ul>
<li><p>Set an environmental variable named <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> with the
local path to the credentials json.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTALS='path/to/creds.json'</span></code></p>
</li>
<li><p>Pass in the path to the credentials using the <code class="docutils literal notranslate"><span class="pre">app_creds</span></code> argument.</p></li>
<li><p>Pass in a json string using the <code class="docutils literal notranslate"><span class="pre">app_creds</span></code> argument.</p></li>
</ul>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>app_creds: str</dt><dd><p>A credentials json string or a path to a json file. Not required
if <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> env variable set.</p>
</dd>
<dt>project: str</dt><dd><p>The project which the client is acting on behalf of. If not passed
then will use the default inferred environment.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>GoogleCloudStorage Class</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.client">
<span class="sig-name descname"><span class="pre">client</span></span><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.client" title="Link to this definition"></a></dt>
<dd><p>Access all methods of <cite>google.cloud</cite> package</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.list_buckets">
<span class="sig-name descname"><span class="pre">list_buckets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.list_buckets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.list_buckets" title="Link to this definition"></a></dt>
<dd><p>Returns a list of buckets</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><p>List of buckets</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.bucket_exists">
<span class="sig-name descname"><span class="pre">bucket_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.bucket_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.bucket_exists" title="Link to this definition"></a></dt>
<dd><p>Verify that a bucket exists</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The name of the bucket</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.get_bucket">
<span class="sig-name descname"><span class="pre">get_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.get_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.get_bucket" title="Link to this definition"></a></dt>
<dd><p>Returns a bucket object</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The name of bucket</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>GoogleCloud Storage bucket</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.create_bucket">
<span class="sig-name descname"><span class="pre">create_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.create_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.create_bucket" title="Link to this definition"></a></dt>
<dd><p>Create a bucket.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>A globally unique name for the bucket.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.delete_bucket">
<span class="sig-name descname"><span class="pre">delete_bucket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_blobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.delete_bucket"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.delete_bucket" title="Link to this definition"></a></dt>
<dd><p>Delete a bucket. Will fail if not empty unless <code class="docutils literal notranslate"><span class="pre">delete_blobs</span></code> argument
is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The name of the bucket</p>
</dd>
<dt>delete_blobs: boolean</dt><dd><p>Delete blobs in the bucket, if it is not empty</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.list_blobs">
<span class="sig-name descname"><span class="pre">list_blobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.list_blobs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.list_blobs" title="Link to this definition"></a></dt>
<dd><p>List all of the blobs in a bucket</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The name of the bucket</p>
</dd>
<dt>max_results: int</dt><dd><p>TBD</p>
</dd>
<dt>prefix_filter: str</dt><dd><p>A prefix to filter files</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>A list of blob names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.blob_exists">
<span class="sig-name descname"><span class="pre">blob_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.blob_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.blob_exists" title="Link to this definition"></a></dt>
<dd><p>Verify that a blob exists in the specified bucket</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The bucket name</p>
</dd>
<dt>blob_name: str</dt><dd><p>The name of the blob</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.get_blob">
<span class="sig-name descname"><span class="pre">get_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.get_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.get_blob" title="Link to this definition"></a></dt>
<dd><p>Get a blob object</p>
<dl class="simple">
<dt><cite>Args</cite>:</dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>A bucket name</p>
</dd>
<dt>blob_name: str</dt><dd><p>A blob name</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>A Google Storage blob object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.put_blob">
<span class="sig-name descname"><span class="pre">put_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.put_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.put_blob" title="Link to this definition"></a></dt>
<dd><p>Puts a blob (aka file) in a bucket</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>blob_name:</dt><dd><p>The name of blob to be stored in the bucket</p>
</dd>
<dt>bucket_name:</dt><dd><p>The name of the bucket to store the blob</p>
</dd>
<dt>local_path: str</dt><dd><p>The local path of the file to upload</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.download_blob">
<span class="sig-name descname"><span class="pre">download_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.download_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.download_blob" title="Link to this definition"></a></dt>
<dd><p>Gets a blob from a bucket</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The name of the bucket</p>
</dd>
<dt>blob_name: str</dt><dd><p>The name of the blob</p>
</dd>
<dt>local_path: str</dt><dd><p>The local path where the file will be downloaded. If not specified, a temporary
file will be created and returned, and that file will be removed automatically
when the script is done running.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The path of the downloaded file</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.delete_blob">
<span class="sig-name descname"><span class="pre">delete_blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.delete_blob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.delete_blob" title="Link to this definition"></a></dt>
<dd><p>Delete a blob</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The bucket name</p>
</dd>
<dt>blob_name: str</dt><dd><p>The blob name</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.upload_table">
<span class="sig-name descname"><span class="pre">upload_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_acl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.upload_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.upload_table" title="Link to this definition"></a></dt>
<dd><p>Load the data from a Parsons table into a blob.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>table: obj</dt><dd><p>A <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a></p>
</dd>
<dt>bucket_name: str</dt><dd><p>The name of the bucket to upload the data into.</p>
</dd>
<dt>blob_name: str</dt><dd><p>The name of the blob to upload the data into.</p>
</dd>
<dt>data_type: str</dt><dd><p>The file format to use when writing the data. One of: <cite>csv</cite> or <cite>json</cite></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_cloud_storage.GoogleCloudStorage.get_url">
<span class="sig-name descname"><span class="pre">get_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expires_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_cloud_storage.html#GoogleCloudStorage.get_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_cloud_storage.GoogleCloudStorage.get_url" title="Link to this definition"></a></dt>
<dd><p>Generates a presigned url for a blob</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>bucket_name: str</dt><dd><p>The name of the bucket</p>
</dd>
<dt>blob_name: str</dt><dd><p>The name of the blob</p>
</dd>
<dt>expires_in: int</dt><dd><p>Minutes until the url expires</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>url:</dt><dd><p>A link to download the object</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<p></p>
</section>
<section id="civic">
<h2>Civic<a class="headerlink" href="#civic" title="Link to this heading"></a></h2>
<section id="id7">
<h3>Overview<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<p>Google Civic is an API which provides helpful information about elections. In order to access Google Civic you must
create a Google Developer Key in their <a class="reference external" href="https://console.developers.google.com/apis/">API console</a>. In order to
use Google Civic, you must enable this specific end point.</p>
<p>The Google Civic API utilizes the <a class="reference external" href="https://www.votinginfoproject.org/">Voting Information Project</a> to collect
key civic information such as personalized ballots and polling location information.</p>
</section>
<section id="id8">
<h3>Quickstart<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<p>To instantiate the GoogleCivic class, you can pass the constructor a string containing the Google Civic API key you’ve generated for your project, or set the environment variable <code class="docutils literal notranslate"><span class="pre">GOOGLE_CIVIC_API_KEY</span></code> to that value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">parsons</span><span class="w"> </span><span class="kn">import</span> <span class="n">GoogleCivic</span>

<span class="c1"># Set as environment variable so we don&#39;t have to pass it in. May either</span>
<span class="c1"># be the file name or a JSON encoding of the credentials.</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;GOOGLE_CIVIC_API_KEY&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;AIzaSyAOVZVeL-snv3vNDUdw6QSiCvZRXk1xM&#39;</span>

<span class="n">google_civic</span> <span class="o">=</span> <span class="n">GoogleCivic</span><span class="p">()</span>
</pre></div>
</div>
<p>Alternatively, you can pass the credentials in as an argument. In the example below, we also specify the project.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">google_civic</span> <span class="o">=</span> <span class="n">GoogleCivic</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;AIzaSyAOVZVeL-snv3vNDUdw6QSiCvZRXk1xM&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now you can retrieve election information</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">elections</span> <span class="o">=</span> <span class="n">google_civic</span><span class="o">.</span><span class="n">get_elections</span><span class="p">()</span>

<span class="n">address</span> <span class="o">=</span> <span class="s1">&#39;1600 Pennsylvania Avenue, Washington DC&#39;</span>
<span class="n">election_id</span> <span class="o">=</span> <span class="s1">&#39;7000&#39;</span>  <span class="c1"># General Election</span>
<span class="n">google_civic</span><span class="o">.</span><span class="n">get_polling_location</span><span class="p">(</span><span class="n">election_id</span><span class="o">=</span><span class="n">election_id</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="n">address</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>API<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.google.google_civic.GoogleCivic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.google.google_civic.</span></span><span class="sig-name descname"><span class="pre">GoogleCivic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_civic.html#GoogleCivic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_civic.GoogleCivic" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>api_key<span class="classifier">str</span></dt><dd><p>A valid Google api key. Not required if <code class="docutils literal notranslate"><span class="pre">GOOGLE_CIVIC_API_KEY</span></code>
env variable set.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><p>class</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_civic.GoogleCivic.get_elections">
<span class="sig-name descname"><span class="pre">get_elections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_civic.html#GoogleCivic.get_elections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_civic.GoogleCivic.get_elections" title="Link to this definition"></a></dt>
<dd><p>Get a collection of information about elections and voter information.</p>
<dl class="simple">
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_civic.GoogleCivic.get_polling_location">
<span class="sig-name descname"><span class="pre">get_polling_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_civic.html#GoogleCivic.get_polling_location"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_civic.GoogleCivic.get_polling_location" title="Link to this definition"></a></dt>
<dd><p>Get polling location information for a given address.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>election_id: int</dt><dd><p>A valid election id. Election ids can be found by running the
<a class="reference internal" href="#parsons.google.google_civic.GoogleCivic.get_elections" title="parsons.google.google_civic.GoogleCivic.get_elections"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_elections()</span></code></a> method.</p>
</dd>
<dt>address: str</dt><dd><p>A valid US address in a single string.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_civic.GoogleCivic.get_polling_locations">
<span class="sig-name descname"><span class="pre">get_polling_locations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'address'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_civic.html#GoogleCivic.get_polling_locations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_civic.GoogleCivic.get_polling_locations" title="Link to this definition"></a></dt>
<dd><p>Get polling location information for a table of addresses.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>election_id: int</dt><dd><p>A valid election id. Election ids can be found by running the
<a class="reference internal" href="#parsons.google.google_civic.GoogleCivic.get_elections" title="parsons.google.google_civic.GoogleCivic.get_elections"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_elections()</span></code></a> method.</p>
</dd>
<dt>address: str</dt><dd><p>A valid US address in a single string.</p>
</dd>
<dt>address_field: str</dt><dd><p>The name of the column where the address is stored.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<p></p>
</section>
<section id="google-sheets">
<h2>Google Sheets<a class="headerlink" href="#google-sheets" title="Link to this heading"></a></h2>
<section id="id10">
<h3>Overview<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
<p>The GoogleSheets class allows you to interact with Google service account spreadsheets, called “Google Sheets.” You can create, modify, read, format, share and delete sheets with this connector.</p>
<p>In order to instantiate the class, you must pass Google service account credentials as a dictionary, or store the credentials as a JSON string in the <code class="docutils literal notranslate"><span class="pre">GOOGLE_DRIVE_CREDENTIALS</span></code> environment variable. Typically you’ll get the credentials from the Google Developer Console (look for the “Google Drive API”).</p>
</section>
<section id="id11">
<h3>Quickstart<a class="headerlink" href="#id11" title="Link to this heading"></a></h3>
<p>To instantiate the GoogleSheets class, you can either pass the constructor a dict containing your Google service account credentials or define the environment variable <code class="docutils literal notranslate"><span class="pre">GOOGLE_DRIVE_CREDENTIALS</span></code> to contain a JSON encoding of the dict.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">parsons</span><span class="w"> </span><span class="kn">import</span> <span class="n">GoogleSheets</span>

<span class="c1"># First approach: Use API credentials via environmental variables</span>
<span class="n">sheets</span> <span class="o">=</span> <span class="n">GoogleSheets</span><span class="p">()</span>

<span class="c1"># Second approach: Pass API credentials as argument</span>
<span class="n">credential_filename</span> <span class="o">=</span> <span class="s1">&#39;google_drive_service_credentials.json&#39;</span>
<span class="n">credentials</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">credential_filename</span><span class="p">))</span>
<span class="n">sheets</span> <span class="o">=</span> <span class="n">GoogleSheets</span><span class="p">(</span><span class="n">google_keyfile_dict</span><span class="o">=</span><span class="n">credentials</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then create/modify/retrieve documents using instance methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sheet_id</span> <span class="o">=</span> <span class="n">sheets</span><span class="o">.</span><span class="n">create_spreadsheet</span><span class="p">(</span><span class="s1">&#39;Voter Cell Phones&#39;</span><span class="p">)</span>
<span class="n">sheets</span><span class="o">.</span><span class="n">append_to_sheet</span><span class="p">(</span><span class="n">sheet_id</span><span class="p">,</span> <span class="n">people_with_cell_phones</span><span class="p">)</span>
<span class="n">parsons_table</span> <span class="o">=</span> <span class="n">sheets</span><span class="o">.</span><span class="n">get_worksheet</span><span class="p">(</span><span class="n">sheet_id</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>API<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">parsons.google.google_sheets.</span></span><span class="sig-name descname"><span class="pre">GoogleSheets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">google_keyfile_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets" title="Link to this definition"></a></dt>
<dd><p>A connector for Google Sheets, handling data import and export.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>google_keyfile_dict: dict</dt><dd><p>A dictionary of Google Drive API credentials, parsed from JSON provided
by the Google Developer Console. Required if env variable
<code class="docutils literal notranslate"><span class="pre">GOOGLE_DRIVE_CREDENTIALS</span></code> is not populated.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.list_worksheets">
<span class="sig-name descname"><span class="pre">list_worksheets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.list_worksheets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.list_worksheets" title="Link to this definition"></a></dt>
<dd><p>Return a list of worksheets in the spreadsheet.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>list</dt><dd><p>A List of worksheets order by their index</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.get_worksheet_index">
<span class="sig-name descname"><span class="pre">get_worksheet_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.get_worksheet_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.get_worksheet_index" title="Link to this definition"></a></dt>
<dd><p>Get the first sheet in a Google spreadsheet with the given title. The
title is case sensitive and the index begins with 0.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>title: str</dt><dd><p>The sheet title</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The sheet index</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.get_worksheet">
<span class="sig-name descname"><span class="pre">get_worksheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worksheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.get_worksheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.get_worksheet" title="Link to this definition"></a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">parsons</span> <span class="pre">table</span></code> from a sheet in a Google spreadsheet, given the sheet index.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>worksheet: str or int</dt><dd><p>The index or the title of the worksheet. The index begins with
0.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.share_spreadsheet">
<span class="sig-name descname"><span class="pre">share_spreadsheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sharee</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">share_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'user'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reader'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notify_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.share_spreadsheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.share_spreadsheet" title="Link to this definition"></a></dt>
<dd><p>Share a spreadsheet with a user, group of users, domain and/or the public.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>sharee: str</dt><dd><p>User or group e-mail address, domain name to share the spreadsheet
with. To share publicly, set sharee value to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt>share_type: str</dt><dd><p>The sharee type. Allowed values are: <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">group</span></code>, <code class="docutils literal notranslate"><span class="pre">domain</span></code>,
<code class="docutils literal notranslate"><span class="pre">anyone</span></code>.</p>
</dd>
<dt>role: str</dt><dd><p>The primary role for this user. Allowed values are: <code class="docutils literal notranslate"><span class="pre">owner</span></code>,
<code class="docutils literal notranslate"><span class="pre">writer</span></code>, <code class="docutils literal notranslate"><span class="pre">reader</span></code>.</p>
</dd>
<dt>notify: boolean</dt><dd><p>Whether to send an email to the target user/domain.</p>
</dd>
<dt>email_message: str</dt><dd><p>The email to be sent if notify kwarg set to True.</p>
</dd>
<dt>with_link: boolean</dt><dd><p>Whether a link is required for this permission.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.get_spreadsheet_permissions">
<span class="sig-name descname"><span class="pre">get_spreadsheet_permissions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.get_spreadsheet_permissions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.get_spreadsheet_permissions" title="Link to this definition"></a></dt>
<dd><p>List the permissioned users and groups for a spreadsheet.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>Parsons Table</dt><dd><p>See <a class="reference internal" href="table.html#parsons-table"><span class="std std-ref">Parsons Table</span></a> for output options.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.create_spreadsheet">
<span class="sig-name descname"><span class="pre">create_spreadsheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">editor_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.create_spreadsheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.create_spreadsheet" title="Link to this definition"></a></dt>
<dd><p>Create a Google spreadsheet from a Parsons table. Optionally shares the new doc with
the given email address. Optionally creates the sheet in a specified folder.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>title: str</dt><dd><p>The human-readable title of the new spreadsheet</p>
</dd>
<dt>editor_email: str (optional)</dt><dd><p>Email address which should be given permissions on this spreadsheet</p>
</dd>
<dt>folder_id: str (optional)</dt><dd><p>ID of the Google folder where the spreadsheet should be created.
Tip: Get this from the folder URL.
Anyone shared on the folder will have access to the spreadsheet.</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The spreadsheet ID</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.delete_spreadsheet">
<span class="sig-name descname"><span class="pre">delete_spreadsheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.delete_spreadsheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.delete_spreadsheet" title="Link to this definition"></a></dt>
<dd><p>Deletes a Google spreadsheet.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.add_sheet">
<span class="sig-name descname"><span class="pre">add_sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.add_sheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.add_sheet" title="Link to this definition"></a></dt>
<dd><p>Adds a sheet to a Google spreadsheet.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>rows: int</dt><dd><p>Number of rows</p>
</dd>
<dt>cols</dt><dd><p>Number of cols</p>
</dd>
</dl>
</dd>
<dt><cite>Returns:</cite></dt><dd><dl class="simple">
<dt>str</dt><dd><p>The sheet index</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.append_to_sheet">
<span class="sig-name descname"><span class="pre">append_to_sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worksheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_entered_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.append_to_sheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.append_to_sheet" title="Link to this definition"></a></dt>
<dd><p>Append data from a Parsons table to a Google sheet. Note that the table’s columns are
ignored, as we’ll be keeping whatever header row already exists in the Google sheet.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>table: obj</dt><dd><p>Parsons table</p>
</dd>
<dt>worksheet: str or int</dt><dd><p>The index or the title of the worksheet. The index begins with
0.</p>
</dd>
<dt>user_entered_value: bool (optional)</dt><dd><p>If True, will submit cell values as entered (required for entering formulas).
Otherwise, values will be entered as strings or numbers only.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.overwrite_sheet">
<span class="sig-name descname"><span class="pre">overwrite_sheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worksheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_entered_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.overwrite_sheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.overwrite_sheet" title="Link to this definition"></a></dt>
<dd><p>Replace the data in a Google sheet with a Parsons table, using the table’s columns as the
first row.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>table: obj</dt><dd><p>Parsons table</p>
</dd>
<dt>worksheet: str or int</dt><dd><p>The index or the title of the worksheet. The index begins with
0.</p>
</dd>
<dt>user_entered_value: bool (optional)</dt><dd><p>If True, will submit cell values as entered (required for entering formulas).
Otherwise, values will be entered as strings or numbers only.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="parsons.google.google_sheets.GoogleSheets.format_cells">
<span class="sig-name descname"><span class="pre">format_cells</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spreadsheet_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worksheet</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/parsons/google/google_sheets.html#GoogleSheets.format_cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#parsons.google.google_sheets.GoogleSheets.format_cells" title="Link to this definition"></a></dt>
<dd><p>Format the cells of a worksheet.</p>
<dl class="simple">
<dt><cite>Args:</cite></dt><dd><dl class="simple">
<dt>spreadsheet_id: str</dt><dd><p>The ID of the spreadsheet (Tip: Get this from the spreadsheet URL)</p>
</dd>
<dt>range: str</dt><dd><p>The cell range to format. E.g. <code class="docutils literal notranslate"><span class="pre">&quot;A2&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;A2:B100&quot;</span></code></p>
</dd>
<dt>cell_format: dict</dt><dd><p>The formatting to apply to the range. Full options are specified in
the GoogleSheets <a class="reference external" href="https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/cells#cellformat">API documentation</a>.</p>
</dd>
<dt>worksheet: str or int</dt><dd><p>The index or the title of the worksheet. The index begins with
0.</p>
</dd>
</dl>
</dd>
</dl>
<p><strong>Examples</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set &#39;A4&#39; cell&#39;s text format to bold</span>
<span class="n">gs</span><span class="o">.</span><span class="n">format_cells</span><span class="p">(</span><span class="n">sheet_id</span><span class="p">,</span> <span class="s2">&quot;A4&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;textFormat&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bold&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span> <span class="n">worksheet</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Color the background of &#39;A2:B2&#39; cell range yellow,</span>
<span class="c1"># change horizontal alignment, text color and font size</span>
<span class="n">gs</span><span class="o">.</span><span class="n">format_cells</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sheet_id</span><span class="p">,</span> <span class="s2">&quot;A2:B2&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">&quot;backgroundColor&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s2">&quot;green&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s2">&quot;blue&quot;</span><span class="p">:</span> <span class="mf">0.0</span>
        <span class="p">},</span>
    <span class="s2">&quot;horizontalAlignment&quot;</span><span class="p">:</span> <span class="s2">&quot;CENTER&quot;</span><span class="p">,</span>
    <span class="s2">&quot;textFormat&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;foregroundColor&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
            <span class="s2">&quot;green&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
            <span class="s2">&quot;blue&quot;</span><span class="p">:</span> <span class="mf">0.0</span>
            <span class="p">},</span>
            <span class="s2">&quot;fontSize&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
            <span class="s2">&quot;bold&quot;</span><span class="p">:</span> <span class="kc">True</span>
            <span class="p">}</span>
        <span class="p">},</span> <span class="n">worksheet</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="github.html" class="btn btn-neutral float-left" title="GitHub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="hustle.html" class="btn btn-neutral float-right" title="Hustle" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, The Movement Cooperative.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v0.18.1
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Most Common</dt>
        <!-- Show latest & stable first -->
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                  <dd><a href="../latest/google.html">latest</a></dd>
            
        
            
                  <dd><a href="../stable/google.html">stable</a></dd>
            
        

        <dt>By Version Number</dt>
        <!-- Show other versions -->
        
            
                  <dd><a href="../v0.14.0/google.html">v0.14.0</a></dd>
            
        
            
                  <dd><a href="../v0.15.0/google.html">v0.15.0</a></dd>
            
        
            
                  <dd><a href="../v0.16.0/google.html">v0.16.0</a></dd>
            
        
            
                  <dd><a href="../v0.17.0/google.html">v0.17.0</a></dd>
            
        
            
                  <dd><a href="../v0.18.0/google.html">v0.18.0</a></dd>
            
        
            
                  <dd><a href="google.html">v0.18.1</a></dd>
            
        
            
        
            
        

      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>